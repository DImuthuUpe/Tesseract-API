<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Tesseract: /home/rays/src/opensrc/tesseract-ocr/dict/dict.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/home/rays/src/opensrc/tesseract-ocr/dict/dict.h</h1><a href="dict_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">// File:        dict.h</span>
<a name="l00003"></a>00003 <span class="comment">// Description: dict class.</span>
<a name="l00004"></a>00004 <span class="comment">// Author:      Samuel Charron</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">// (C) Copyright 2006, Google Inc.</span>
<a name="l00007"></a>00007 <span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00008"></a>00008 <span class="comment">// you may not use this file except in compliance with the License.</span>
<a name="l00009"></a>00009 <span class="comment">// You may obtain a copy of the License at</span>
<a name="l00010"></a>00010 <span class="comment">// http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00011"></a>00011 <span class="comment">// Unless required by applicable law or agreed to in writing, software</span>
<a name="l00012"></a>00012 <span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00013"></a>00013 <span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00014"></a>00014 <span class="comment">// See the License for the specific language governing permissions and</span>
<a name="l00015"></a>00015 <span class="comment">// limitations under the License.</span>
<a name="l00016"></a>00016 <span class="comment">//</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="preprocessor">#ifndef TESSERACT_DICT_DICT_H_</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define TESSERACT_DICT_DICT_H_</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="ambigs_8h.html">ambigs.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="dawg_8h.html">dawg.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="host_8h.html">host.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="image_8h.html">image.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="oldlist_8h.html">oldlist.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="ratngs_8h.html">ratngs.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="stopper_8h.html">stopper.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="trie_8h.html">trie.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="unicharset_8h.html">unicharset.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="permute_8h.html">permute.h</a>&quot;</span>
<a name="l00032"></a>00032 
<a name="l00033"></a><a class="code" href="dict_8h.html#a8f209bc21153a4b65514af438fc46957">00033</a> <span class="preprocessor">#define MAX_WERD_LENGTH        (inT64) 128</span>
<a name="l00034"></a><a class="code" href="dict_8h.html#a47c4ad2b77a30c564406e75c7f570637">00034</a> <span class="preprocessor"></span><span class="preprocessor">#define NO_RATING               -1</span>
<a name="l00035"></a>00035 <span class="preprocessor"></span>
<a name="l00037"></a><a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html">00037</a> <span class="keyword">struct </span><a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html">CHAR_FRAGMENT_INFO</a> {
<a name="l00038"></a><a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#a24af551ad80e76f6f7d504caced974d4">00038</a>   <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#a24af551ad80e76f6f7d504caced974d4">unichar_id</a>;
<a name="l00039"></a><a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#a100f7283db6a6078cba9b526cfe71045">00039</a>   <span class="keyword">const</span> <a class="code" href="class_c_h_a_r___f_r_a_g_m_e_n_t.html">CHAR_FRAGMENT</a> *<a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#a100f7283db6a6078cba9b526cfe71045">fragment</a>;
<a name="l00040"></a><a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#ac5d1359d9ae58c6fc68180aa0d0ec95d">00040</a>   <span class="keywordtype">int</span> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#ac5d1359d9ae58c6fc68180aa0d0ec95d">num_fragments</a>;
<a name="l00041"></a><a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#ac843ec4aa587f6a77ce573bb199997e9">00041</a>   <span class="keywordtype">float</span> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#ac843ec4aa587f6a77ce573bb199997e9">rating</a>;
<a name="l00042"></a><a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#ae6d64915bd517270e523ffb8684b984b">00042</a>   <span class="keywordtype">float</span> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html#ae6d64915bd517270e523ffb8684b984b">certainty</a>;
<a name="l00043"></a>00043 };
<a name="l00044"></a>00044 
<a name="l00045"></a>00045 <span class="keyword">namespace </span>tesseract {
<a name="l00046"></a>00046 
<a name="l00047"></a><a class="code" href="namespacetesseract.html#a8dc259fa09d9302b96f5b3d2aad10c9f">00047</a> <span class="keyword">typedef</span> <a class="code" href="class_generic_vector.html">GenericVector&lt;Dawg *&gt;</a> <a class="code" href="class_generic_vector.html">DawgVector</a>;
<a name="l00048"></a>00048 
<a name="l00049"></a>00049 <span class="comment">//</span>
<a name="l00050"></a>00050 <span class="comment">// Constants</span>
<a name="l00051"></a>00051 <span class="comment">//</span>
<a name="l00052"></a>00052 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kAnyWordLength = -1;
<a name="l00053"></a>00053 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kRatingPad = 4;
<a name="l00054"></a>00054 <span class="comment">// TODO(daria): If hyphens are different in different languages and can be</span>
<a name="l00055"></a>00055 <span class="comment">// inferred from training data we should load their values dynamically.</span>
<a name="l00056"></a>00056 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span> kHyphenSymbol[] = <span class="stringliteral">&quot;-&quot;</span>;
<a name="l00057"></a>00057 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxNumDawgEdgees = 2000000;
<a name="l00058"></a>00058 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxDocDawgEdges = 250000;
<a name="l00059"></a>00059 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kMaxUserDawgEdges = 50000;
<a name="l00060"></a>00060 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> kSimCertaintyScale = -10.0;   <span class="comment">// similarity matcher scaling</span>
<a name="l00061"></a>00061 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> kSimCertaintyOffset = -10.0;  <span class="comment">// similarity matcher offset</span>
<a name="l00062"></a>00062 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">float</span> kSimilarityFloor = 100.0;  <span class="comment">// worst E*L product to stop on</span>
<a name="l00063"></a>00063 <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">int</span> kDocDictMaxRepChars = 4;
<a name="l00064"></a>00064 
<a name="l00065"></a><a class="code" href="structtesseract_1_1_dawg_args.html">00065</a> <span class="keyword">struct </span><a class="code" href="structtesseract_1_1_dawg_args.html">DawgArgs</a> {
<a name="l00066"></a><a class="code" href="structtesseract_1_1_dawg_args.html#af2aa8260a9df7eca5a8d019947e088aa">00066</a>   <a class="code" href="structtesseract_1_1_dawg_args.html#af2aa8260a9df7eca5a8d019947e088aa">DawgArgs</a>(<a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *d, <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *c, <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *ud,
<a name="l00067"></a>00067            <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *uc, <span class="keywordtype">float</span> r, PermuterType p, <span class="keywordtype">int</span> len, <span class="keywordtype">int</span> e) :
<a name="l00068"></a>00068     <a class="code" href="structtesseract_1_1_dawg_args.html#a811d44fcd2cf470637c523429e61eab1">active_dawgs</a>(d), <a class="code" href="structtesseract_1_1_dawg_args.html#a58552913a94d3e43f1785d6c733f4542">constraints</a>(c), <a class="code" href="structtesseract_1_1_dawg_args.html#a22401edd1d7628e9dc9838d3a405f408">updated_active_dawgs</a>(ud),
<a name="l00069"></a>00069     <a class="code" href="structtesseract_1_1_dawg_args.html#a658a2b769e438412581f944c694834fb">updated_constraints</a>(uc), <a class="code" href="structtesseract_1_1_dawg_args.html#a6e242d01f2279bb6013a1e3d2a65f4db">rating_margin</a>(r) {
<a name="l00070"></a>00070     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> i = 0; i &lt; <a class="code" href="dict_8h.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>; ++i) {
<a name="l00071"></a>00071       <a class="code" href="structtesseract_1_1_dawg_args.html#a89f714dcadfa55d72847eafd6788924c">rating_array</a>[i] = <a class="code" href="dict_8h.html#a47c4ad2b77a30c564406e75c7f570637">NO_RATING</a>;
<a name="l00072"></a>00072     }
<a name="l00073"></a>00073     <a class="code" href="structtesseract_1_1_dawg_args.html#ac6d1140877409a292367493620fd8b9b">permuter</a> = p;
<a name="l00074"></a>00074     <a class="code" href="structtesseract_1_1_dawg_args.html#afe8419095a8c599205476bcdbc268c8d">sought_word_length</a> = len;
<a name="l00075"></a>00075     <a class="code" href="structtesseract_1_1_dawg_args.html#a99b95776a8c96bc1835cb019d7c48a5c">end_char_choice_index</a> = e;
<a name="l00076"></a>00076   }
<a name="l00077"></a><a class="code" href="structtesseract_1_1_dawg_args.html#a811d44fcd2cf470637c523429e61eab1">00077</a>   <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *<a class="code" href="structtesseract_1_1_dawg_args.html#a811d44fcd2cf470637c523429e61eab1">active_dawgs</a>;
<a name="l00078"></a><a class="code" href="structtesseract_1_1_dawg_args.html#a58552913a94d3e43f1785d6c733f4542">00078</a>   <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *<a class="code" href="structtesseract_1_1_dawg_args.html#a58552913a94d3e43f1785d6c733f4542">constraints</a>;
<a name="l00079"></a><a class="code" href="structtesseract_1_1_dawg_args.html#a22401edd1d7628e9dc9838d3a405f408">00079</a>   <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *<a class="code" href="structtesseract_1_1_dawg_args.html#a22401edd1d7628e9dc9838d3a405f408">updated_active_dawgs</a>;
<a name="l00080"></a><a class="code" href="structtesseract_1_1_dawg_args.html#a658a2b769e438412581f944c694834fb">00080</a>   <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *<a class="code" href="structtesseract_1_1_dawg_args.html#a658a2b769e438412581f944c694834fb">updated_constraints</a>;
<a name="l00081"></a><a class="code" href="structtesseract_1_1_dawg_args.html#ac6d1140877409a292367493620fd8b9b">00081</a>   PermuterType <a class="code" href="structtesseract_1_1_dawg_args.html#ac6d1140877409a292367493620fd8b9b">permuter</a>;
<a name="l00082"></a><a class="code" href="structtesseract_1_1_dawg_args.html#afe8419095a8c599205476bcdbc268c8d">00082</a>   <span class="keywordtype">int</span> <a class="code" href="structtesseract_1_1_dawg_args.html#afe8419095a8c599205476bcdbc268c8d">sought_word_length</a>;
<a name="l00083"></a>00083 
<a name="l00084"></a>00084   <span class="comment">// TODO(daria): remove these fields when permdawg is deprecated.</span>
<a name="l00085"></a><a class="code" href="structtesseract_1_1_dawg_args.html#a6e242d01f2279bb6013a1e3d2a65f4db">00085</a>   <span class="keywordtype">float</span> <a class="code" href="structtesseract_1_1_dawg_args.html#a6e242d01f2279bb6013a1e3d2a65f4db">rating_margin</a>;  
<a name="l00086"></a><a class="code" href="structtesseract_1_1_dawg_args.html#a89f714dcadfa55d72847eafd6788924c">00086</a>   <span class="keywordtype">float</span> <a class="code" href="structtesseract_1_1_dawg_args.html#a89f714dcadfa55d72847eafd6788924c">rating_array</a>[<a class="code" href="dict_8h.html#a8f209bc21153a4b65514af438fc46957">MAX_WERD_LENGTH</a>];
<a name="l00087"></a><a class="code" href="structtesseract_1_1_dawg_args.html#a99b95776a8c96bc1835cb019d7c48a5c">00087</a>   <span class="keywordtype">int</span> <a class="code" href="structtesseract_1_1_dawg_args.html#a99b95776a8c96bc1835cb019d7c48a5c">end_char_choice_index</a>;
<a name="l00088"></a>00088 };
<a name="l00089"></a>00089 
<a name="l00090"></a><a class="code" href="classtesseract_1_1_dict.html">00090</a> <span class="keyword">class </span><a class="code" href="classtesseract_1_1_dict.html">Dict</a> {
<a name="l00091"></a>00091  <span class="keyword">public</span>:
<a name="l00092"></a>00092   <a class="code" href="classtesseract_1_1_dict.html#ac11f84cc25bbf53314c0acda453949df">Dict</a>(<a class="code" href="classtesseract_1_1_image.html">Image</a>* image_ptr);
<a name="l00093"></a>00093   <a class="code" href="classtesseract_1_1_dict.html#ab471fe748aa77118175b04caaa4283df">~Dict</a>();
<a name="l00094"></a><a class="code" href="classtesseract_1_1_dict.html#a4acbe41544b8cdb7008d2ddacab10e57">00094</a>   <span class="keyword">const</span> <a class="code" href="classtesseract_1_1_image.html">Image</a>* <a class="code" href="classtesseract_1_1_dict.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()<span class="keyword"> const </span>{
<a name="l00095"></a>00095     <span class="keywordflow">return</span> image_ptr_;
<a name="l00096"></a>00096   }
<a name="l00097"></a><a class="code" href="classtesseract_1_1_dict.html#a00cf3c479c6090b94b513dbb44edc5e3">00097</a>   <a class="code" href="classtesseract_1_1_image.html">Image</a>* <a class="code" href="classtesseract_1_1_dict.html#a00cf3c479c6090b94b513dbb44edc5e3">getImage</a>() {
<a name="l00098"></a>00098     <span class="keywordflow">return</span> image_ptr_;
<a name="l00099"></a>00099   }
<a name="l00100"></a><a class="code" href="classtesseract_1_1_dict.html#a635ce00ba9aa24247563d26ae26da631">00100</a>   <span class="keyword">const</span> <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a>&amp; <a class="code" href="classtesseract_1_1_dict.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>()<span class="keyword"> const </span>{
<a name="l00101"></a>00101     <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_dict.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="classtesseract_1_1_image.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>;
<a name="l00102"></a>00102   }
<a name="l00103"></a><a class="code" href="classtesseract_1_1_dict.html#acef7ecc6e5fe567fe9646b733df02455">00103</a>   <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a>&amp; <a class="code" href="classtesseract_1_1_dict.html#acef7ecc6e5fe567fe9646b733df02455">getUnicharset</a>() {
<a name="l00104"></a>00104     <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_dict.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="classtesseract_1_1_image.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#a69c5179ac5f10a24f3f97e16ca09460f">unicharset</a>;
<a name="l00105"></a>00105   }
<a name="l00106"></a><a class="code" href="classtesseract_1_1_dict.html#a4a886a86bc5d0d4405dd9da165b3e1fd">00106</a>   <span class="keyword">const</span> <a class="code" href="classtesseract_1_1_unichar_ambigs.html">UnicharAmbigs</a> &amp;<a class="code" href="classtesseract_1_1_dict.html#a4a886a86bc5d0d4405dd9da165b3e1fd">getUnicharAmbigs</a>() {
<a name="l00107"></a>00107     <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_dict.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="classtesseract_1_1_image.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#aea55f12febe34f7fec0f2300ef5ab418">unichar_ambigs</a>;
<a name="l00108"></a>00108   }
<a name="l00109"></a>00109 
<a name="l00110"></a><a class="code" href="classtesseract_1_1_dict.html#aa07269a6929862317892af548dc6f78e">00110</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#aa07269a6929862317892af548dc6f78e">compound_marker</a>(<a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id) {
<a name="l00111"></a>00111     <span class="keywordflow">return</span> (unichar_id == <a class="code" href="classtesseract_1_1_dict.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().unichar_to_id(<span class="stringliteral">&quot;-&quot;</span>) ||
<a name="l00112"></a>00112             unichar_id == <a class="code" href="classtesseract_1_1_dict.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>().unichar_to_id(<span class="stringliteral">&quot;/&quot;</span>));
<a name="l00113"></a>00113   }
<a name="l00114"></a>00114 
<a name="l00115"></a>00115   <span class="comment">/* hyphen.cpp ************************************************************/</span>
<a name="l00116"></a>00116 
<a name="l00118"></a><a class="code" href="classtesseract_1_1_dict.html#aebd1e3d92b2ec23c03807dd7ede45a40">00118</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&amp;#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span>
<a name="l00119"></a>00119     !last_word_on_line_ &amp;&amp; hyphen_word_ &amp;&amp; <a class="code" href="classtesseract_1_1_dict.html#a44c62a7904145157e4aa303fcf6ef923">GetMaxFixedLengthDawgIndex</a>() &lt; 0;
<a name="l00120"></a>00120   }
<a name="l00122"></a><a class="code" href="classtesseract_1_1_dict.html#a8431d26ec0e13f6d2a77d7ba3b1823ce">00122</a>   <span class="keyword">inline</span> <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#a8431d26ec0e13f6d2a77d7ba3b1823ce" title="Size of the base word (the part on the line before) of a hyphenated word.">hyphen_base_size</a>()<span class="keyword"> const </span>{
<a name="l00123"></a>00123     <span class="keywordflow">return</span> this-&gt;<a class="code" href="classtesseract_1_1_dict.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&amp;#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>() ? hyphen_word_-&gt;<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() : 0;
<a name="l00124"></a>00124   }
<a name="l00128"></a><a class="code" href="classtesseract_1_1_dict.html#a673dcd602bce4530c4cc2fe875cbc2a9">00128</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a673dcd602bce4530c4cc2fe875cbc2a9">copy_hyphen_info</a>(<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word)<span class="keyword"> const </span>{
<a name="l00129"></a>00129     <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classtesseract_1_1_dict.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&amp;#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>()) {
<a name="l00130"></a>00130       *word = *hyphen_word_;
<a name="l00131"></a>00131       <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_dict.html#add6604e6b4ce6ffd77c78d58b8a3244a">hyphen_debug_level</a>) word-&gt;<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;copy_hyphen_info: &quot;</span>);
<a name="l00132"></a>00132     }
<a name="l00133"></a>00133   }
<a name="l00137"></a><a class="code" href="classtesseract_1_1_dict.html#ab09707f3ebd6dbbc9eda8c1bc1ba2b32">00137</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ab09707f3ebd6dbbc9eda8c1bc1ba2b32">remove_hyphen_head</a>(<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word)<span class="keyword"> const </span>{
<a name="l00138"></a>00138     <span class="keywordflow">if</span> (this-&gt;<a class="code" href="classtesseract_1_1_dict.html#aebd1e3d92b2ec23c03807dd7ede45a40" title="Returns true if we&amp;#39;ve recorded the beginning of a hyphenated word.">hyphenated</a>()) {
<a name="l00139"></a>00139       word-&gt;<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#abf79c2d6f32e73a073e088e30be2e711">remove_unichar_ids</a>(0, hyphen_word_-&gt;<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>());
<a name="l00140"></a>00140       <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_dict.html#add6604e6b4ce6ffd77c78d58b8a3244a">hyphen_debug_level</a>) hyphen_word_-&gt;<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#aa27589343655d5843a6482dbb3731d5a">print</a>(<span class="stringliteral">&quot;remove_hyphen_head: &quot;</span>);
<a name="l00141"></a>00141     }
<a name="l00142"></a>00142   }
<a name="l00144"></a><a class="code" href="classtesseract_1_1_dict.html#aad63b54f05d3faaee2b8caec2a5145d7">00144</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#aad63b54f05d3faaee2b8caec2a5145d7" title="Check whether the word has a hyphen at the end.">has_hyphen_end</a>(<a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, <span class="keywordtype">bool</span> first_pos)<span class="keyword"> const </span>{
<a name="l00145"></a>00145     <span class="keywordflow">return</span> (last_word_on_line_ &amp;&amp; !first_pos &amp;&amp;
<a name="l00146"></a>00146             unichar_id == hyphen_unichar_id_);
<a name="l00147"></a>00147   }
<a name="l00149"></a><a class="code" href="classtesseract_1_1_dict.html#abc8dcda3db471510c7834edacac8cebd">00149</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#abc8dcda3db471510c7834edacac8cebd" title="Same as above, but check the unichar at the end of the word.">has_hyphen_end</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word)<span class="keyword"> const </span>{
<a name="l00150"></a>00150     <span class="keywordtype">int</span> word_index = word.<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#a7be59abe97b052dd3aaa324aea8c4a6c">length</a>() - 1;
<a name="l00151"></a>00151     <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_dict.html#aad63b54f05d3faaee2b8caec2a5145d7" title="Check whether the word has a hyphen at the end.">has_hyphen_end</a>(word.<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#a6b917b2e6157f7956ff53ca230425ed3">unichar_id</a>(word_index), word_index == 0);
<a name="l00152"></a>00152   }
<a name="l00156"></a>00156   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a6b7508e4459f295073316fff69a05ee9">reset_hyphen_vars</a>(<span class="keywordtype">bool</span> last_word_on_line);
<a name="l00159"></a>00159   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ad8bc29be3c9d8ae5bdb7ec972216ad28">set_hyphen_word</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word,
<a name="l00160"></a>00160                        <span class="keyword">const</span> <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> &amp;active_dawgs,
<a name="l00161"></a>00161                        <span class="keyword">const</span> <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> &amp;constraints);
<a name="l00162"></a>00162 
<a name="l00163"></a>00163   <span class="comment">/* permdawg.cpp ************************************************************/</span>
<a name="l00166"></a><a class="code" href="classtesseract_1_1_dict.html#a8aa52c89f34bc5158cc650699520b50b">00166</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a8aa52c89f34bc5158cc650699520b50b">update_best_choice</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word,
<a name="l00167"></a>00167                                  <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice) {
<a name="l00168"></a>00168     <span class="keywordflow">if</span> (word.<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>() &lt; best_choice-&gt;<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html#a52ea24dcb5ff15ad8aee3fd774622216">rating</a>()) *best_choice = word;
<a name="l00169"></a>00169   }
<a name="l00173"></a>00173   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#aeb0ba1d301def04d0ca191582f032c78">init_active_dawgs</a>(<span class="keywordtype">int</span> sought_word_length,
<a name="l00174"></a>00174                          <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *active_dawgs,
<a name="l00175"></a>00175                          <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a253fac24ccb5cb9d3b467b0a28c1c0f3" title="Returns true if we are operating in ambigs mode.">ambigs_mode</a>) <span class="keyword">const</span>;
<a name="l00178"></a>00178   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a7e44bdc5e2fe0dbb861dfd1522ef1cec">init_constraints</a>(<a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> *constraints) <span class="keyword">const</span>;
<a name="l00180"></a><a class="code" href="classtesseract_1_1_dict.html#a253fac24ccb5cb9d3b467b0a28c1c0f3">00180</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a253fac24ccb5cb9d3b467b0a28c1c0f3" title="Returns true if we are operating in ambigs mode.">ambigs_mode</a>(<span class="keywordtype">float</span> rating_limit) {
<a name="l00181"></a>00181     <span class="keywordflow">return</span> rating_limit &lt;= 0.0;
<a name="l00182"></a>00182   }
<a name="l00188"></a>00188   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#ac787e92f677e96a926d0c79e46a15461">dawg_permute_and_select</a>(
<a name="l00189"></a>00189       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, <span class="keywordtype">float</span> rating_limit,
<a name="l00190"></a>00190       <span class="keywordtype">int</span> sought_word_length, <span class="keywordtype">int</span> end_char_choice_index);
<a name="l00191"></a><a class="code" href="classtesseract_1_1_dict.html#aac6d42fd255de06ec27abf5d7ba086c6">00191</a>   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#ac787e92f677e96a926d0c79e46a15461">dawg_permute_and_select</a>(
<a name="l00192"></a>00192       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices, <span class="keywordtype">float</span> rating_limit) {
<a name="l00193"></a>00193     <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_dict.html#ac787e92f677e96a926d0c79e46a15461">dawg_permute_and_select</a>(char_choices, rating_limit,
<a name="l00194"></a>00194                                    kAnyWordLength, 0);
<a name="l00195"></a>00195   }
<a name="l00203"></a>00203   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ad6dd8117fc7d3d6a2271a501955eb187">go_deeper_dawg_fxn</a>(
<a name="l00204"></a>00204       <span class="keyword">const</span> <span class="keywordtype">char</span> *debug, <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00205"></a>00205       <span class="keywordtype">int</span> char_choice_index, <span class="keyword">const</span> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info,
<a name="l00206"></a>00206       <span class="keywordtype">bool</span> word_ending, <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word, <span class="keywordtype">float</span> certainties[],
<a name="l00207"></a>00207       <span class="keywordtype">float</span> *limit, <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice, <span class="keywordtype">int</span> *attempts_left,
<a name="l00208"></a>00208       <span class="keywordtype">void</span> *void_more_args);
<a name="l00209"></a>00209 
<a name="l00210"></a>00210   <span class="comment">/* permute.cpp *************************************************************/</span>
<a name="l00211"></a>00211   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#a8d9601c5bb5c5050ac8db64ecb1bf2d5">get_top_choice_word</a>(
<a name="l00212"></a>00212       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices);
<a name="l00213"></a>00213   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#adfe046fdde238fd1802c5d1771be1671">permute_top_choice</a>(
<a name="l00214"></a>00214     <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00215"></a>00215     <span class="keywordtype">float</span>* rating_limit,
<a name="l00216"></a>00216     <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *raw_choice,
<a name="l00217"></a>00217     <a class="code" href="host_8h.html#a7712a7e28433d0ade59219a129549b6f">BOOL8</a> *any_alpha);
<a name="l00218"></a>00218   <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="classtesseract_1_1_dict.html#abd556d948d000e8eda51875b82ee4449">choose_il1</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *first_char,       <span class="comment">//first choice</span>
<a name="l00219"></a>00219                          <span class="keyword">const</span> <span class="keywordtype">char</span> *second_char,      <span class="comment">//second choice</span>
<a name="l00220"></a>00220                          <span class="keyword">const</span> <span class="keywordtype">char</span> *third_char,       <span class="comment">//third choice</span>
<a name="l00221"></a>00221                          <span class="keyword">const</span> <span class="keywordtype">char</span> *prev_char,        <span class="comment">//prev in word</span>
<a name="l00222"></a>00222                          <span class="keyword">const</span> <span class="keywordtype">char</span> *next_char,        <span class="comment">//next in word</span>
<a name="l00223"></a>00223                          <span class="keyword">const</span> <span class="keywordtype">char</span> *next_next_char);  <span class="comment">//after next next in word</span>
<a name="l00224"></a>00224   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#a578f7cb1945a1ba71f6251065687b555">permute_all</a>(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00225"></a>00225                            <span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice,
<a name="l00226"></a>00226                            <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *raw_choice);
<a name="l00227"></a>00227   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a2aeffdb2c4e3263a4684b4baff79f91f">end_permute</a>();
<a name="l00228"></a>00228   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a837f35af4dee4b03a43a85785af430bd">permute_subword</a>(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00229"></a>00229                        <span class="keywordtype">float</span> rating_limit,
<a name="l00230"></a>00230                        <span class="keywordtype">int</span> start,
<a name="l00231"></a>00231                        <span class="keywordtype">int</span> end,
<a name="l00232"></a>00232                        <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *current_word);
<a name="l00233"></a>00233   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#ab9c442c6c541ea1be7a0a132aea3af51">permute_characters</a>(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00234"></a>00234                           <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice,
<a name="l00235"></a>00235                           <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *raw_choice);
<a name="l00236"></a>00236   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#a2d718cec31b1cdfccab9f5ad720158ba">permute_compound_words</a>(
<a name="l00237"></a>00237       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00238"></a>00238       <span class="keywordtype">float</span> rating_limit);
<a name="l00242"></a>00242   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#a28fc3691ebb3ad2911fdc703b3e31ea0">permute_fixed_length_words</a>(
<a name="l00243"></a>00243       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00244"></a>00244       <a class="code" href="classtesseract_1_1_permuter_state.html">PermuterState</a> *permuter_state);
<a name="l00246"></a>00246   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a5b19c61706786b0609613fd0d73c6b42" title="Incoporate segmentation cost into word rating.">incorporate_segcost</a>(<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a>* word);
<a name="l00250"></a>00250   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#a5de09395ec6b9c6436dcaa9266c78df8">permute_script_words</a>(
<a name="l00251"></a>00251       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00252"></a>00252       <a class="code" href="classtesseract_1_1_permuter_state.html">PermuterState</a> *permuter_state);
<a name="l00254"></a>00254   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#a692e057e716545e386097b40620d636a" title="checks for consistency in character property (eg. alpah, digit, punct)">permute_chartype_words</a>(
<a name="l00255"></a>00255       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00256"></a>00256       <a class="code" href="classtesseract_1_1_permuter_state.html">PermuterState</a> *permuter_state);
<a name="l00257"></a>00257 
<a name="l00261"></a>00261   <span class="keywordtype">char</span> <a class="code" href="classtesseract_1_1_dict.html#a49b7fbfcab4bd2783f9620a35e6a673b">top_word_chartype</a>(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00262"></a>00262                          <span class="keywordtype">char</span>* pos_chartypes);
<a name="l00263"></a>00263 
<a name="l00264"></a>00264   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *<a class="code" href="classtesseract_1_1_dict.html#a632d8c752369e54bb548e0a35dd7e100">top_fragments_permute_and_select</a>(
<a name="l00265"></a>00265       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00266"></a>00266       <span class="keywordtype">float</span> rating_limit);
<a name="l00271"></a>00271   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a12cc7c10929b310dd23baee1ab1e972b">go_deeper_top_fragments_fxn</a>(
<a name="l00272"></a>00272       <span class="keyword">const</span> <span class="keywordtype">char</span> *debug, <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00273"></a>00273       <span class="keywordtype">int</span> char_choice_index, <span class="keyword">const</span> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info,
<a name="l00274"></a>00274       <span class="keywordtype">bool</span> word_ending, <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word, <span class="keywordtype">float</span> certainties[], <span class="keywordtype">float</span> *limit,
<a name="l00275"></a>00275       <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice, <span class="keywordtype">int</span> *attempts_left, <span class="keywordtype">void</span> *more_args);
<a name="l00276"></a>00276 
<a name="l00278"></a>00278   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#af58a79352c0ac94a552a9b2136b1682a" title="Semi-generic functions used by multiple permuters.">fragment_state_okay</a>(<a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> curr_unichar_id,
<a name="l00279"></a>00279                            <span class="keywordtype">float</span> curr_rating, <span class="keywordtype">float</span> curr_certainty,
<a name="l00280"></a>00280                            <span class="keyword">const</span> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info,
<a name="l00281"></a>00281                            <span class="keyword">const</span> <span class="keywordtype">char</span> *debug, <span class="keywordtype">int</span> word_ending,
<a name="l00282"></a>00282                            <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html">CHAR_FRAGMENT_INFO</a> *char_frag_info);
<a name="l00283"></a>00283   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a0ceb12c3a410ba12fdb9a93df11d47e2">permute_choices</a>(
<a name="l00284"></a>00284       <span class="keyword">const</span> <span class="keywordtype">char</span> *debug,
<a name="l00285"></a>00285       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00286"></a>00286       <span class="keywordtype">int</span> char_choice_index,
<a name="l00287"></a>00287       <span class="keyword">const</span> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info,
<a name="l00288"></a>00288       <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word,
<a name="l00289"></a>00289       <span class="keywordtype">float</span> certainties[],
<a name="l00290"></a>00290       <span class="keywordtype">float</span> *limit,
<a name="l00291"></a>00291       <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice,
<a name="l00292"></a>00292       <span class="keywordtype">int</span> *attempts_left,
<a name="l00293"></a>00293       <span class="keywordtype">void</span> *more_args);
<a name="l00294"></a>00294 
<a name="l00295"></a>00295   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a1fd1f849b292727334cdbdee03d6cdfc">append_choices</a>(
<a name="l00296"></a>00296       <span class="keyword">const</span> <span class="keywordtype">char</span> *debug,
<a name="l00297"></a>00297       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00298"></a>00298       <span class="keyword">const</span> <a class="code" href="class_b_l_o_b___c_h_o_i_c_e.html">BLOB_CHOICE</a> &amp;blob_choice,
<a name="l00299"></a>00299       <span class="keywordtype">int</span> char_choice_index,
<a name="l00300"></a>00300       <span class="keyword">const</span> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info,
<a name="l00301"></a>00301       <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word,
<a name="l00302"></a>00302       <span class="keywordtype">float</span> certainties[],
<a name="l00303"></a>00303       <span class="keywordtype">float</span> *limit,
<a name="l00304"></a>00304       <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice,
<a name="l00305"></a>00305       <span class="keywordtype">int</span> *attempts_left,
<a name="l00306"></a>00306       <span class="keywordtype">void</span> *more_args);
<a name="l00308"></a><a class="code" href="classtesseract_1_1_dict.html#a5f6572f1ce1ce687a367de82aec90557">00308</a>   void (<a class="code" href="classtesseract_1_1_dict.html">Dict</a>::*<a class="code" href="classtesseract_1_1_dict.html#a5f6572f1ce1ce687a367de82aec90557" title="Pointer to go_deeper function that will be modified by various permuters.">go_deeper_fxn_</a>)(<span class="keyword">const</span> <span class="keywordtype">char</span> *debug,
<a name="l00309"></a>00309                                <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00310"></a>00310                                <span class="keywordtype">int</span> char_choice_index,
<a name="l00311"></a>00311                                <span class="keyword">const</span> <a class="code" href="struct_c_h_a_r___f_r_a_g_m_e_n_t___i_n_f_o.html">CHAR_FRAGMENT_INFO</a> *prev_char_frag_info,
<a name="l00312"></a>00312                                <span class="keywordtype">bool</span> word_ending, <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word,
<a name="l00313"></a>00313                                <span class="keywordtype">float</span> certainties[], <span class="keywordtype">float</span> *limit,
<a name="l00314"></a>00314                                <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice, <span class="keywordtype">int</span> *attempts_left,
<a name="l00315"></a>00315                                <span class="keywordtype">void</span> *void_more_args);
<a name="l00316"></a>00316   <span class="comment">/* stopper.cpp *************************************************************/</span>
<a name="l00317"></a>00317   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#aef746918c09040cf417f831d07c97072">NoDangerousAmbig</a>(<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *BestChoice,
<a name="l00318"></a>00318                         <a class="code" href="class_generic_vector.html">DANGERR</a> *fixpt,
<a name="l00319"></a>00319                         <span class="keywordtype">bool</span> fix_replaceable,
<a name="l00320"></a>00320                         <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *Choices,
<a name="l00321"></a>00321                         <span class="keywordtype">bool</span> *modified_blobs);
<a name="l00322"></a><a class="code" href="classtesseract_1_1_dict.html#a863f4f02d43f02f85d051d9e632c0c4e">00322</a>   <span class="keywordtype">double</span> <a class="code" href="classtesseract_1_1_dict.html#a863f4f02d43f02f85d051d9e632c0c4e">StopperAmbigThreshold</a>(<span class="keywordtype">double</span> f1, <span class="keywordtype">double</span> f2) {
<a name="l00323"></a>00323     <span class="keywordflow">return</span> (f2 - f1) * <a class="code" href="classtesseract_1_1_dict.html#a646d0403be41d8484d68250136f915f4">stopper_ambiguity_threshold_gain</a> -
<a name="l00324"></a>00324         <a class="code" href="classtesseract_1_1_dict.html#a81ce7deec4aee35f855d92f31e3c7463">stopper_ambiguity_threshold_offset</a>;
<a name="l00325"></a>00325   }
<a name="l00326"></a>00326   <span class="comment">// If the certainty of any chunk in Choice (item1) is not ambiguous with the</span>
<a name="l00327"></a>00327   <span class="comment">// corresponding chunk in the best choice (item2), frees Choice and</span>
<a name="l00328"></a>00328   <span class="comment">// returns true.</span>
<a name="l00329"></a>00329   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#ac6b70920a4f5f5e33bfd4be2600d3192">FreeBadChoice</a>(<span class="keywordtype">void</span> *item1,   <span class="comment">// VIABLE_CHOICE Choice</span>
<a name="l00330"></a>00330                     <span class="keywordtype">void</span> *item2);  <span class="comment">// EXPANDED_CHOICE *BestChoice</span>
<a name="l00339"></a>00339 <span class="comment"></span>  <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a8309e93ec65d12110e6f8a1c9b00d7d4">ReplaceAmbig</a>(<span class="keywordtype">int</span> wrong_ngram_begin_index, <span class="keywordtype">int</span> wrong_ngram_size,
<a name="l00340"></a>00340                     <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> correct_ngram_id, <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *werd_choice,
<a name="l00341"></a>00341                     <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *blob_choices,
<a name="l00342"></a>00342                     <span class="keywordtype">bool</span> *modified_blobs);
<a name="l00343"></a>00343 
<a name="l00344"></a><a class="code" href="classtesseract_1_1_dict.html#a9c4215da27d2ea4c117d1e6227c5b492">00344</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a9c4215da27d2ea4c117d1e6227c5b492">DisableChoiceAccum</a>() { keep_word_choices_ = <span class="keyword">false</span>; }
<a name="l00345"></a><a class="code" href="classtesseract_1_1_dict.html#a4edfbbb412d84258cc1ef255dfd527aa">00345</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a4edfbbb412d84258cc1ef255dfd527aa">EnableChoiceAccum</a>() { keep_word_choices_ = <span class="keyword">true</span>; }
<a name="l00346"></a><a class="code" href="classtesseract_1_1_dict.html#ab7b078ed83f6de9d5c767263a8a37070">00346</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#ab7b078ed83f6de9d5c767263a8a37070">ChoiceAccumEnabled</a>() { <span class="keywordflow">return</span> keep_word_choices_; }
<a name="l00347"></a>00347 
<a name="l00349"></a>00349   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#a0e3e3f5f2bf54b5b2a0aec103c816cd6" title="Returns the length of the shortest alpha run in WordChoice.">LengthOfShortestAlphaRun</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;WordChoice);
<a name="l00356"></a>00356   <a class="code" href="class_v_i_a_b_l_e___c_h_o_i_c_e___s_t_r_u_c_t.html">VIABLE_CHOICE</a> <a class="code" href="classtesseract_1_1_dict.html#acc0a47c47ed3fe63f3fd4646ae5ddb80">NewViableChoice</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;WordChoice,
<a name="l00357"></a>00357                                 <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> AdjustFactor,
<a name="l00358"></a>00358                                 <span class="keyword">const</span> <span class="keywordtype">float</span> Certainties[]);
<a name="l00360"></a>00360   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ad5343f10220f5882ddaa461b5e89927c" title="Dumps a text representation of the specified Choice to File.">PrintViableChoice</a>(FILE *File, <span class="keyword">const</span> <span class="keywordtype">char</span> *Label, <a class="code" href="class_v_i_a_b_l_e___c_h_o_i_c_e___s_t_r_u_c_t.html">VIABLE_CHOICE</a> Choice);
<a name="l00363"></a>00363   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a88ccbd663564a11a95cf9e592c69e8be">StringSameAs</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;WordChoice,
<a name="l00364"></a>00364                     <a class="code" href="class_v_i_a_b_l_e___c_h_o_i_c_e___s_t_r_u_c_t.html">VIABLE_CHOICE</a> ViableChoice);
<a name="l00366"></a>00366   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a88ccbd663564a11a95cf9e592c69e8be">StringSameAs</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *String,
<a name="l00367"></a>00367                     <span class="keyword">const</span> <span class="keywordtype">char</span> *String_lengths,
<a name="l00368"></a>00368                     <a class="code" href="class_v_i_a_b_l_e___c_h_o_i_c_e___s_t_r_u_c_t.html">VIABLE_CHOICE</a> ViableChoice);
<a name="l00376"></a>00376   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#a2e14dd61f93ad13fafe4c2e2dae88631">UniformCertainties</a>(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;Choices,
<a name="l00377"></a>00377                          <span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;BestChoice);
<a name="l00379"></a>00379   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a45c6cdeae33daa4ca52a83ad5a59f2f9" title="Returns true if the given best_choice is good enough to stop.">AcceptableChoice</a>(<a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *Choices,
<a name="l00380"></a>00380                         <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *BestChoice,
<a name="l00381"></a>00381                         <a class="code" href="class_generic_vector.html">DANGERR</a> *fixpt,
<a name="l00382"></a>00382                         <a class="code" href="stopper_8h.html#a1902ef46a46c64df98f9a99f6368e4f6">ACCEPTABLE_CHOICE_CALLER</a> caller,
<a name="l00383"></a>00383                         <span class="keywordtype">bool</span> *modified_blobs);
<a name="l00387"></a>00387   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#acb222399feb6d3dba3f9c1ac50df1e96">AcceptableResult</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;BestChoice);
<a name="l00390"></a>00390   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#ace0e51938995068fdb1b115f6be61470">ChoiceSameAs</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;WordChoice, <a class="code" href="class_v_i_a_b_l_e___c_h_o_i_c_e___s_t_r_u_c_t.html">VIABLE_CHOICE</a> ViableChoice);
<a name="l00398"></a>00398   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a6315dd909f39185829965c7bc57551ad">LogNewChoice</a>(<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> AdjustFactor, <span class="keyword">const</span> <span class="keywordtype">float</span> Certainties[],
<a name="l00399"></a>00399                     <span class="keywordtype">bool</span> raw_choice, <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *WordChoice);
<a name="l00400"></a>00400   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ace7f6baf4e425e1d50aac0d1383eb023">EndDangerousAmbigs</a>();
<a name="l00402"></a>00402   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a2a0b6b5be811b039c04dd0cc09436f25" title="Returns true if WordChoice is the same as the current best choice.">CurrentBestChoiceIs</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;WordChoice);
<a name="l00404"></a>00404   <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> <a class="code" href="classtesseract_1_1_dict.html#a5de1b4b567459f520ce3b82b68c2c618" title="Returns the adjustment factor for the best choice for the current word.">CurrentBestChoiceAdjustFactor</a>();
<a name="l00406"></a>00406   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a0bec277d6338bed058f010f7be969d1e" title="Returns true if there are multiple good choices for the current word.">CurrentWordAmbig</a>();
<a name="l00408"></a>00408   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ac3fda452853da426de36eecfe03d00bc" title="Prints the current choices for this word to stdout.">DebugWordChoices</a>();
<a name="l00410"></a>00410   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#af8cbb8ac0beba656f8614f3e01efb601" title="Print all the choices in raw_choices_ list for non 1-1 ambiguities.">PrintAmbigAlternatives</a>(FILE *file, <span class="keyword">const</span> <span class="keywordtype">char</span> *label,
<a name="l00411"></a>00411                               <span class="keywordtype">int</span> label_num_unichars);
<a name="l00414"></a>00414   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a7b67011e3b43ead95473e2b25798e0fe">FillViableChoice</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;WordChoice,
<a name="l00415"></a>00415                         <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> AdjustFactor, <span class="keyword">const</span> <span class="keywordtype">float</span> Certainties[],
<a name="l00416"></a>00416                         <a class="code" href="class_v_i_a_b_l_e___c_h_o_i_c_e___s_t_r_u_c_t.html">VIABLE_CHOICE</a> ViableChoice);
<a name="l00419"></a>00419   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a1f4a0951c1960208fab7c511c90e5477">AlternativeChoicesWorseThan</a>(<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Threshold);
<a name="l00422"></a>00422   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a9ac3719475ad0a39d464307e1bd74ae3">FilterWordChoices</a>();
<a name="l00437"></a>00437   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#af564403205ca1603825a3a2f59727089">FindClassifierErrors</a>(<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> MinRating,
<a name="l00438"></a>00438                             <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> MaxRating,
<a name="l00439"></a>00439                             <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> RatingMargin,
<a name="l00440"></a>00440                             <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> Thresholds[]);
<a name="l00443"></a>00443   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a13fed9e3e317b901d4728a77f3396907">InitChoiceAccum</a>();
<a name="l00445"></a>00445   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a4fc10a65be799fa59c39cae57379dc17" title="Clears best_choices_ list accumulated by the stopper.">ClearBestChoiceAccum</a>();
<a name="l00449"></a>00449   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a767d9d6e0095d70f2905dac7d48c32c5">LogNewSegmentation</a>(<a class="code" href="states_8h.html#a5fa79db9c64231406ef3807adfad627d">PIECES_STATE</a> BlobWidth);
<a name="l00452"></a>00452   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#aa5ce917212da08cba99df7966c9e84cc">LogNewSplit</a>(<span class="keywordtype">int</span> Blob);
<a name="l00455"></a>00455   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a9c59eace80232070d11e04794078d7b8">AddNewChunk</a>(<a class="code" href="class_v_i_a_b_l_e___c_h_o_i_c_e___s_t_r_u_c_t.html">VIABLE_CHOICE</a> Choice, <span class="keywordtype">int</span> Blob);
<a name="l00457"></a>00457   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#aec7160ce69f6f7d478110b95b729d523" title="Sets up stopper variables in preparation for the first pass.">SettupStopperPass1</a>();
<a name="l00459"></a>00459   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a29f0c2e6c8a7b5fb44bb39ce47ceef84" title="Sets up stopper variables in preparation for the second pass.">SettupStopperPass2</a>();
<a name="l00460"></a>00460   <span class="comment">/* context.cpp *************************************************************/</span>
<a name="l00462"></a>00462   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#a207372c8db41e16c13eda896c7e77665" title="Check a string to see if it matches a set of lexical rules.">case_ok</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word, <span class="keyword">const</span> <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;unicharset);
<a name="l00465"></a>00465   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#ae9bc2b027bd999d646968aa445908efc">absolute_garbage</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word, <span class="keyword">const</span> <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;unicharset);
<a name="l00466"></a>00466 
<a name="l00467"></a>00467   <span class="comment">/* dict.cpp ****************************************************************/</span>
<a name="l00468"></a>00468 
<a name="l00471"></a>00471   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a1cb09562db2f2c8951f8dc21cf7bc279">Load</a>();
<a name="l00472"></a>00472   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a899e3d5588422e9dac68ac5049069dd4">End</a>();
<a name="l00473"></a>00473 
<a name="l00474"></a>00474   <span class="comment">// Resets the document dictionary analogous to ResetAdaptiveClassifier.</span>
<a name="l00475"></a><a class="code" href="classtesseract_1_1_dict.html#ab4147968ed69fe22a5acbebcff3472f0">00475</a>   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ab4147968ed69fe22a5acbebcff3472f0">ResetDocumentDictionary</a>() {
<a name="l00476"></a>00476     <span class="keywordflow">if</span> (pending_words_ != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00477"></a>00477       pending_words_-&gt;<a class="code" href="classtesseract_1_1_trie.html#a344c89fd53c0773ff274848e0cd26e17">clear</a>();
<a name="l00478"></a>00478     <span class="keywordflow">if</span> (document_words_ != <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>)
<a name="l00479"></a>00479       document_words_-&gt;<a class="code" href="classtesseract_1_1_trie.html#a344c89fd53c0773ff274848e0cd26e17">clear</a>();
<a name="l00480"></a>00480   }
<a name="l00481"></a>00481 
<a name="l00482"></a>00482   <span class="comment">// Create unicharset adaptations of known, short lists of UTF-8 equivalent</span>
<a name="l00483"></a>00483   <span class="comment">// characters (think all hyphen-like symbols).  The first version of the</span>
<a name="l00484"></a>00484   <span class="comment">// list is taken as equivalent for matching against the dictionary.</span>
<a name="l00485"></a>00485   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ae92c303dc7451b3836cc9669e80090c0">LoadEquivalenceList</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *unichar_strings[]);
<a name="l00486"></a>00486 
<a name="l00487"></a>00487   <span class="comment">// Normalize all hyphen and apostrophes to the canonicalized one for</span>
<a name="l00488"></a>00488   <span class="comment">// matching; pass everything else through as is.  See LoadEquivalenceList().</span>
<a name="l00489"></a>00489   <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> <a class="code" href="classtesseract_1_1_dict.html#a57be0143dbad3201d0d2ce002ae9bce8">NormalizeUnicharIdForMatch</a>(<a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id) <span class="keyword">const</span>;
<a name="l00490"></a>00490 
<a name="l00553"></a>00553   <span class="comment">//</span>
<a name="l00554"></a>00554   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#acd45e378f915e3dd4bb18a8930e928c9">def_letter_is_okay</a>(<span class="keywordtype">void</span>* void_dawg_args,
<a name="l00555"></a>00555                          <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, <span class="keywordtype">bool</span> word_end) <span class="keyword">const</span>;
<a name="l00556"></a>00556 
<a name="l00557"></a><a class="code" href="classtesseract_1_1_dict.html#a802de385e07531ace182d16653e35f71">00557</a>   int (<a class="code" href="classtesseract_1_1_dict.html">Dict</a>::*<a class="code" href="classtesseract_1_1_dict.html#a802de385e07531ace182d16653e35f71">letter_is_okay_</a>)(<span class="keywordtype">void</span>* void_dawg_args,
<a name="l00558"></a>00558                                <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, <span class="keywordtype">bool</span> word_end) <span class="keyword">const</span>;
<a name="l00560"></a><a class="code" href="classtesseract_1_1_dict.html#ad6da76c8b85b90df51029d705590e1cf">00560</a>   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#ad6da76c8b85b90df51029d705590e1cf" title="Calls letter_is_okay_ member function.">LetterIsOkay</a>(<span class="keywordtype">void</span>* void_dawg_args,
<a name="l00561"></a>00561                    <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, <span class="keywordtype">bool</span> word_end)<span class="keyword"> const </span>{
<a name="l00562"></a>00562     <span class="keywordflow">return</span> (this-&gt;*<a class="code" href="classtesseract_1_1_dict.html#a802de385e07531ace182d16653e35f71">letter_is_okay_</a>)(void_dawg_args, unichar_id, word_end);
<a name="l00563"></a>00563   }
<a name="l00564"></a>00564 
<a name="l00565"></a>00565 
<a name="l00567"></a><a class="code" href="classtesseract_1_1_dict.html#a7ac1496aaae5e9977a31a2781e7866f0">00567</a>   double (<a class="code" href="classtesseract_1_1_dict.html">Dict</a>::*<a class="code" href="classtesseract_1_1_dict.html#a7ac1496aaae5e9977a31a2781e7866f0" title="Probability in context function used by the ngram permuter.">probability_in_context_</a>)(<span class="keyword">const</span> <span class="keywordtype">char</span>* lang,
<a name="l00568"></a>00568                                           <span class="keyword">const</span> <span class="keywordtype">char</span>* context,
<a name="l00569"></a>00569                                           <span class="keywordtype">int</span> context_bytes,
<a name="l00570"></a>00570                                           <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>,
<a name="l00571"></a>00571                                           <span class="keywordtype">int</span> character_bytes);
<a name="l00573"></a><a class="code" href="classtesseract_1_1_dict.html#abc4cf75b1bd5f5cb0f733c92afeb5239">00573</a>   <span class="keywordtype">double</span> <a class="code" href="classtesseract_1_1_dict.html#abc4cf75b1bd5f5cb0f733c92afeb5239" title="Calls probability_in_context_ member function.">ProbabilityInContext</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* context,
<a name="l00574"></a>00574                               <span class="keywordtype">int</span> context_bytes,
<a name="l00575"></a>00575                               <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>,
<a name="l00576"></a>00576                               <span class="keywordtype">int</span> character_bytes) {
<a name="l00577"></a>00577     <span class="keywordflow">return</span> (this-&gt;*<a class="code" href="classtesseract_1_1_dict.html#a7ac1496aaae5e9977a31a2781e7866f0" title="Probability in context function used by the ngram permuter.">probability_in_context_</a>)(
<a name="l00578"></a>00578         <a class="code" href="classtesseract_1_1_dict.html#a4acbe41544b8cdb7008d2ddacab10e57">getImage</a>()-&gt;<a class="code" href="classtesseract_1_1_image.html#a70f25dbbb805a9ffe518d48794cfca95">getCCUtil</a>()-&gt;<a class="code" href="classtesseract_1_1_c_c_util.html#ae453cbd7e4899ebfc5cc3831e5a8dd66">lang</a>.<a class="code" href="class_s_t_r_i_n_g.html#a32beee43ecab1bed8bebc3466896ad6e">string</a>(),
<a name="l00579"></a>00579         context, context_bytes,
<a name="l00580"></a>00580         character, character_bytes);
<a name="l00581"></a>00581   }
<a name="l00582"></a>00582 
<a name="l00584"></a><a class="code" href="classtesseract_1_1_dict.html#a8f256b3bc0e806c492837ee0d8a0fc97">00584</a>   <span class="keywordtype">double</span> <a class="code" href="classtesseract_1_1_dict.html#a8f256b3bc0e806c492837ee0d8a0fc97" title="Default (no-op) implementation of probability in context function.">def_probability_in_context</a>(
<a name="l00585"></a>00585       <span class="keyword">const</span> <span class="keywordtype">char</span>* lang, <span class="keyword">const</span> <span class="keywordtype">char</span>* context, <span class="keywordtype">int</span> context_bytes,
<a name="l00586"></a>00586       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>, <span class="keywordtype">int</span> character_bytes) {
<a name="l00587"></a>00587     (void) context;
<a name="l00588"></a>00588     (void) context_bytes;
<a name="l00589"></a>00589     (void) character;
<a name="l00590"></a>00590     (void) character_bytes;
<a name="l00591"></a>00591     <span class="keywordflow">return</span> 0.0;
<a name="l00592"></a>00592   }
<a name="l00593"></a>00593   <span class="keywordtype">double</span> <a class="code" href="classtesseract_1_1_dict.html#a895648f0134d56262368e64ee35a6b12">ngram_probability_in_context</a>(<span class="keyword">const</span> <span class="keywordtype">char</span>* lang,
<a name="l00594"></a>00594                                       <span class="keyword">const</span> <span class="keywordtype">char</span>* context,
<a name="l00595"></a>00595                                       <span class="keywordtype">int</span> context_bytes,
<a name="l00596"></a>00596                                       <span class="keyword">const</span> <span class="keywordtype">char</span>* <a class="code" href="mfoutline_8h.html#a2a4b69f9a2827dc98bc4cbc233118865afa40ef3af4fea0001b535318130960b2">character</a>,
<a name="l00597"></a>00597                                       <span class="keywordtype">int</span> character_bytes);
<a name="l00598"></a>00598 
<a name="l00600"></a><a class="code" href="classtesseract_1_1_dict.html#a0a380d8e3aa8e0d3827b18ad5355b258">00600</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#a0a380d8e3aa8e0d3827b18ad5355b258" title="Return the number of dawgs in the dawgs_ vector.">NumDawgs</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> dawgs_.<a class="code" href="class_generic_vector.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>(); }
<a name="l00602"></a><a class="code" href="classtesseract_1_1_dict.html#a774c3a8e23c9e4f47412936b304dae03">00602</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *<a class="code" href="classtesseract_1_1_dict.html#a774c3a8e23c9e4f47412936b304dae03" title="Return i-th dawg pointer recorded in the dawgs_ vector.">GetDawg</a>(<span class="keywordtype">int</span> index)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> dawgs_[index]; }
<a name="l00604"></a><a class="code" href="classtesseract_1_1_dict.html#a7378d34b2d5ede5f2d40dcb8932bab9d">00604</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *<a class="code" href="classtesseract_1_1_dict.html#a7378d34b2d5ede5f2d40dcb8932bab9d" title="Return the points to the punctuation dawg.">GetPuncDawg</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> punc_dawg_; }
<a name="l00606"></a><a class="code" href="classtesseract_1_1_dict.html#a805761b3e96514664545e7f0603c0627">00606</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *<a class="code" href="classtesseract_1_1_dict.html#a805761b3e96514664545e7f0603c0627" title="Return the points to the unambiguous words dawg.">GetUnambigDawg</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> unambig_dawg_; }
<a name="l00608"></a><a class="code" href="classtesseract_1_1_dict.html#a0e4f813ccf9441d2e7b90da31494fdc2">00608</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *<a class="code" href="classtesseract_1_1_dict.html#a0e4f813ccf9441d2e7b90da31494fdc2" title="Return the pointer to the Dawg that contains words of length word_length.">GetFixedLengthDawg</a>(<span class="keywordtype">int</span> word_length)<span class="keyword"> const </span>{
<a name="l00609"></a>00609     <span class="keywordflow">if</span> (word_length &gt; max_fixed_length_dawgs_wdlen_) <span class="keywordflow">return</span> <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>;
<a name="l00610"></a>00610     assert(dawgs_.<a class="code" href="class_generic_vector.html#a111b51dd0bf1324cfb69ef70703d8e70">size</a>() &gt; word_length);
<a name="l00611"></a>00611     <span class="keywordflow">return</span> dawgs_[word_length];
<a name="l00612"></a>00612   }
<a name="l00613"></a><a class="code" href="classtesseract_1_1_dict.html#a44c62a7904145157e4aa303fcf6ef923">00613</a>   <span class="keyword">inline</span> <span class="keyword">const</span> <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#a44c62a7904145157e4aa303fcf6ef923">GetMaxFixedLengthDawgIndex</a>()<span class="keyword"> const </span>{
<a name="l00614"></a>00614     <span class="keywordflow">return</span> max_fixed_length_dawgs_wdlen_;
<a name="l00615"></a>00615   }
<a name="l00617"></a><a class="code" href="classtesseract_1_1_dict.html#aa98baea7a97174cb256643c407c81993">00617</a>   <span class="keyword">static</span> <span class="keyword">inline</span> <a class="code" href="dawg_8h.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a> <a class="code" href="classtesseract_1_1_dict.html#aa98baea7a97174cb256643c407c81993" title="Returns the appropriate next node given the EDGE_REF.">GetStartingNode</a>(<span class="keyword">const</span> <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *dawg, <a class="code" href="dawg_8h.html#a178eb445f9820b58d062f0c988a6f54f">EDGE_REF</a> edge_ref) {
<a name="l00618"></a>00618     <span class="keywordflow">if</span> (edge_ref == NO_EDGE) <span class="keywordflow">return</span> 0;  <span class="comment">// beginning to explore the dawg</span>
<a name="l00619"></a>00619     <a class="code" href="dawg_8h.html#ac76aca11806fd7167c274dc45b7f7fe8">NODE_REF</a> node = dawg-&gt;<a class="code" href="classtesseract_1_1_dawg.html#ae68706a55d86637dec1da9615effb659">next_node</a>(edge_ref);
<a name="l00620"></a>00620     <span class="keywordflow">if</span> (node == 0) node = NO_EDGE;  <span class="comment">// end of word</span>
<a name="l00621"></a>00621     <span class="keywordflow">return</span> node;
<a name="l00622"></a>00622   }
<a name="l00628"></a><a class="code" href="classtesseract_1_1_dict.html#a5de64b7d07afaeb33408ee296db75f5d">00628</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a5de64b7d07afaeb33408ee296db75f5d">ConstraintsOk</a>(<span class="keyword">const</span> <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> &amp;constraints,
<a name="l00629"></a>00629                             <span class="keywordtype">int</span> word_end, <a class="code" href="namespacetesseract.html#a07c41f251f1782c60df4e626c35d2151">DawgType</a> current_dawg_type)<span class="keyword"> const </span>{
<a name="l00630"></a>00630     <span class="keywordflow">if</span> (!word_end) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00631"></a>00631     <span class="keywordflow">if</span> (current_dawg_type == <a class="code" href="namespacetesseract.html#a07c41f251f1782c60df4e626c35d2151aa8e8b65bf32d2884c0bab5fb8223c6eb">DAWG_TYPE_PUNCTUATION</a>) <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00632"></a>00632     <span class="keywordflow">for</span> (<span class="keywordtype">int</span> c = 0; c &lt; constraints.<a class="code" href="class_generic_vector.html#a690cd403343d371ed7763fdaf3ed71d2">length</a>(); ++c) {
<a name="l00633"></a>00633       <span class="keyword">const</span> <a class="code" href="structtesseract_1_1_dawg_info.html">DawgInfo</a> &amp;cinfo = constraints[c];
<a name="l00634"></a>00634       <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *cdawg = dawgs_[cinfo.<a class="code" href="structtesseract_1_1_dawg_info.html#a2fe490ad37635ee98c2a833a7c1278fc">dawg_index</a>];
<a name="l00635"></a>00635       <span class="keywordflow">if</span> (!cdawg-&gt;<a class="code" href="classtesseract_1_1_dawg.html#a4b81cd795923fc21e8a0f9ea9a1f8626">end_of_word</a>(cinfo.<a class="code" href="structtesseract_1_1_dawg_info.html#af80404458445b6c176bd9bfbddae59be">ref</a>)) {
<a name="l00636"></a>00636         <span class="keywordflow">if</span> (<a class="code" href="classtesseract_1_1_dict.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a> &gt;= 3) {
<a name="l00637"></a>00637           <a class="code" href="tprintf_8cpp.html#a0c2bcd4462ec67ab0971b34a0f610f55">tprintf</a>(<span class="stringliteral">&quot;Constraint [%d, &quot;</span> <a class="code" href="dawg_8h.html#a85a5bf216156dfa399c5edd26f3694db">REFFORMAT</a> <span class="stringliteral">&quot;] is not satisfied\n&quot;</span>,
<a name="l00638"></a>00638                   cinfo.<a class="code" href="structtesseract_1_1_dawg_info.html#a2fe490ad37635ee98c2a833a7c1278fc">dawg_index</a>, cinfo.<a class="code" href="structtesseract_1_1_dawg_info.html#af80404458445b6c176bd9bfbddae59be">ref</a>);
<a name="l00639"></a>00639         }
<a name="l00640"></a>00640         <span class="keywordflow">return</span> <span class="keyword">false</span>;
<a name="l00641"></a>00641       }
<a name="l00642"></a>00642     }
<a name="l00643"></a>00643     <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00644"></a>00644   }
<a name="l00645"></a>00645 
<a name="l00651"></a>00651   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a9e46362693e817dcc2f8265854679c80">ProcessPatternEdges</a>(<span class="keyword">const</span> <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *dawg, <span class="keyword">const</span> <a class="code" href="structtesseract_1_1_dawg_info.html">DawgInfo</a> &amp;info,
<a name="l00652"></a>00652                            <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> unichar_id, <span class="keywordtype">bool</span> word_end,
<a name="l00653"></a>00653                            <a class="code" href="structtesseract_1_1_dawg_args.html">DawgArgs</a> *dawg_args,
<a name="l00654"></a>00654                            PermuterType *current_permuter) <span class="keyword">const</span>;
<a name="l00655"></a>00655 
<a name="l00659"></a>00659 
<a name="l00665"></a>00665   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a741bbc38aa86c057b2b431c716519cc8">ReadFixedLengthDawgs</a>(<a class="code" href="namespacetesseract.html#a07c41f251f1782c60df4e626c35d2151">DawgType</a> type, <span class="keyword">const</span> <a class="code" href="class_s_t_r_i_n_g.html">STRING</a> &amp;lang,
<a name="l00666"></a>00666                                    PermuterType perm, <span class="keywordtype">int</span> debug_level,
<a name="l00667"></a>00667                                    FILE *file, <a class="code" href="class_generic_vector.html">DawgVector</a> *dawg_vec,
<a name="l00668"></a>00668                                    <span class="keywordtype">int</span> *max_wdlen);
<a name="l00671"></a>00671   <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a21f1ab419db2b1bb8f375bd9b5935ade">WriteFixedLengthDawgs</a>(
<a name="l00672"></a>00672       <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">GenericVector&lt;SquishedDawg *&gt;</a> &amp;dawg_vec,
<a name="l00673"></a>00673       <span class="keywordtype">int</span> num_dawgs, <span class="keywordtype">int</span> debug_level, FILE *output_file);
<a name="l00674"></a>00674 
<a name="l00676"></a><a class="code" href="classtesseract_1_1_dict.html#af873650961191c2a844eed47c0829421">00676</a>   <span class="keyword">inline</span> <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#af873650961191c2a844eed47c0829421" title="Check all the DAWGs to see if this word is in any of them.">valid_word_permuter</a>(<a class="code" href="host_8h.html#a458fe97f82495945f8071bb3c18d1783">uinT8</a> perm, <span class="keywordtype">bool</span> numbers_ok) {
<a name="l00677"></a>00677     <span class="keywordflow">return</span> (perm == SYSTEM_DAWG_PERM || perm == FREQ_DAWG_PERM ||
<a name="l00678"></a>00678             perm == DOC_DAWG_PERM || perm == USER_DAWG_PERM ||
<a name="l00679"></a>00679             perm == USER_PATTERN_PERM || (numbers_ok &amp;&amp; perm == NUMBER_PERM));
<a name="l00680"></a>00680   }
<a name="l00681"></a>00681   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word, <span class="keywordtype">bool</span> numbers_ok) <span class="keyword">const</span>;
<a name="l00682"></a><a class="code" href="classtesseract_1_1_dict.html#aa62d7c85fe5c5dd756012fdc7a62316a">00682</a>   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#aa62d7c85fe5c5dd756012fdc7a62316a">valid_word</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word)<span class="keyword"> const </span>{
<a name="l00683"></a>00683     <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_dict.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(word, <span class="keyword">false</span>);  <span class="comment">// return NO_PERM for words with digits</span>
<a name="l00684"></a>00684   }
<a name="l00685"></a><a class="code" href="classtesseract_1_1_dict.html#aa3ae4cee802f176e3dedb3b7231ad5f0">00685</a>   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#aa3ae4cee802f176e3dedb3b7231ad5f0">valid_word_or_number</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word)<span class="keyword"> const </span>{
<a name="l00686"></a>00686     <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_dict.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(word, <span class="keyword">true</span>);  <span class="comment">// return NUMBER_PERM for valid numbers</span>
<a name="l00687"></a>00687   }
<a name="l00689"></a><a class="code" href="classtesseract_1_1_dict.html#a57bd14dfa9f7fb48e7de2ab463ae9f2f">00689</a>   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#a57bd14dfa9f7fb48e7de2ab463ae9f2f" title="This function is used by api/tesseract_cube_combiner.cpp.">valid_word</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">string</span>)<span class="keyword"> const </span>{
<a name="l00690"></a>00690     <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> word(<span class="keywordtype">string</span>, <a class="code" href="classtesseract_1_1_dict.html#a635ce00ba9aa24247563d26ae26da631">getUnicharset</a>());
<a name="l00691"></a>00691     <span class="keywordflow">return</span> <a class="code" href="classtesseract_1_1_dict.html#a22a45cd03f5d2191d0aeba41e3b4f52f">valid_word</a>(word);
<a name="l00692"></a>00692   }
<a name="l00693"></a>00693   <span class="comment">// Do the two WERD_CHOICEs form a meaningful bigram?</span>
<a name="l00694"></a>00694   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#a562ac7b572107d301b4730dca4d89a57">valid_bigram</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word1, <span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word2) <span class="keyword">const</span>;
<a name="l00699"></a>00699   <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_dict.html#aaed3895d9553f4110c693593c89650fa">valid_punctuation</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word);
<a name="l00701"></a>00701   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#ac47e049c0ed569cd8cc1799ac2935f3d" title="Returns true if a good answer is found for the unknown blob rating.">good_choice</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;choice);
<a name="l00703"></a>00703   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ad59baa4e54f780a492cebd8f8dc0b025" title="Adds a word found on this document to the document specific dictionary.">add_document_word</a>(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;best_choice);
<a name="l00704"></a>00704   <span class="keywordtype">int</span> <a class="code" href="classtesseract_1_1_dict.html#a268a065cccec5814d412d7bde583cc3e">get_top_word_script</a>(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00705"></a>00705                           <span class="keyword">const</span> <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;unicharset);
<a name="l00707"></a>00707   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a61963914ca2d287fea0db951104d6eac" title="Adjusts the rating of the given word.">adjust_word</a>(<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word, <span class="keywordtype">float</span> *certainty_array,
<a name="l00708"></a>00708                    <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *char_choices,
<a name="l00709"></a>00709                    <span class="keywordtype">bool</span> nonword, <span class="keywordtype">float</span> additional_adjust, <span class="keywordtype">bool</span> debug);
<a name="l00710"></a><a class="code" href="classtesseract_1_1_dict.html#ac34c0a22b3341c9120fe4ea463b1dd35">00710</a>   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#ac34c0a22b3341c9120fe4ea463b1dd35">adjust_word</a>(<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word, <span class="keywordtype">float</span> *certainty_array, <span class="keywordtype">bool</span> debug) {
<a name="l00711"></a>00711     <a class="code" href="classtesseract_1_1_dict.html#a61963914ca2d287fea0db951104d6eac" title="Adjusts the rating of the given word.">adjust_word</a>(word, certainty_array, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">false</span>, 0.0<a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a>, debug);
<a name="l00712"></a>00712   }
<a name="l00713"></a><a class="code" href="classtesseract_1_1_dict.html#af642570a01ac858db823c67336945b5a">00713</a>   <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#af642570a01ac858db823c67336945b5a">adjust_non_word</a>(<a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *word, <span class="keywordtype">float</span> *certainty_array, <span class="keywordtype">bool</span> debug) {
<a name="l00714"></a>00714     <a class="code" href="classtesseract_1_1_dict.html#a61963914ca2d287fea0db951104d6eac" title="Adjusts the rating of the given word.">adjust_word</a>(word, certainty_array, <a class="code" href="host_8h.html#a070d2ce7b6bb7e5c05602aa8c308d0c4">NULL</a>, <span class="keyword">true</span>, 0.0<a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a>, debug);
<a name="l00715"></a>00715   }
<a name="l00717"></a><a class="code" href="classtesseract_1_1_dict.html#a1ed6ea4bcf2cb841fea2fef21ec656d4">00717</a>   <span class="keyword">inline</span> <span class="keywordtype">void</span> <a class="code" href="classtesseract_1_1_dict.html#a1ed6ea4bcf2cb841fea2fef21ec656d4" title="Set wordseg_rating_adjust_factor_ to the given value.">SetWordsegRatingAdjustFactor</a>(<span class="keywordtype">float</span> <a class="code" href="imgscale_8cpp.html#a469169df397b589e709dc744f1346831">f</a>) {
<a name="l00718"></a>00718     wordseg_rating_adjust_factor_ = f;
<a name="l00719"></a>00719   }
<a name="l00720"></a>00720   <span class="comment">// Accessor for best_choices_.</span>
<a name="l00721"></a><a class="code" href="classtesseract_1_1_dict.html#ade61fd4f5d0ecf8fba10c99a4b224c8a">00721</a>   <span class="keyword">const</span> <a class="code" href="structlist__rec.html">LIST</a> &amp;<a class="code" href="classtesseract_1_1_dict.html#ade61fd4f5d0ecf8fba10c99a4b224c8a">getBestChoices</a>() { <span class="keywordflow">return</span> best_choices_; }
<a name="l00722"></a>00722 
<a name="l00723"></a>00723  <span class="keyword">private</span>:
<a name="l00725"></a>00725   <a class="code" href="classtesseract_1_1_image.html">Image</a>* image_ptr_;
<a name="l00732"></a>00732   <a class="code" href="classtesseract_1_1_unichar_ambigs.html">UnicharAmbigs</a> *dang_ambigs_table_;
<a name="l00734"></a>00734   <a class="code" href="classtesseract_1_1_unichar_ambigs.html">UnicharAmbigs</a> *replace_ambigs_table_;
<a name="l00739"></a>00739   <span class="keywordtype">bool</span> keep_word_choices_;
<a name="l00741"></a>00741   <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> reject_offset_;
<a name="l00743"></a>00743   <a class="code" href="states_8h.html#a5fa79db9c64231406ef3807adfad627d">PIECES_STATE</a> current_segmentation_;
<a name="l00745"></a>00745   <a class="code" href="class_v_i_a_b_l_e___c_h_o_i_c_e___s_t_r_u_c_t.html">VIABLE_CHOICE</a> best_raw_choice_;
<a name="l00746"></a>00746   <a class="code" href="structlist__rec.html">LIST</a> raw_choices_;
<a name="l00747"></a>00747   <a class="code" href="structlist__rec.html">LIST</a> best_choices_;
<a name="l00748"></a>00748   <span class="comment">// Hyphen-related variables.</span>
<a name="l00749"></a>00749   <a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> hyphen_unichar_id_;
<a name="l00750"></a>00750   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *hyphen_word_;
<a name="l00751"></a>00751   <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> hyphen_active_dawgs_;
<a name="l00752"></a>00752   <a class="code" href="classtesseract_1_1_dawg_info_vector.html">DawgInfoVector</a> hyphen_constraints_;
<a name="l00753"></a>00753   <span class="keywordtype">bool</span> last_word_on_line_;
<a name="l00754"></a>00754   <span class="comment">// List of lists of &quot;equivalent&quot; UNICHAR_IDs for the purposes of dictionary</span>
<a name="l00755"></a>00755   <span class="comment">// matching.  The first member of each list is taken as canonical.  For</span>
<a name="l00756"></a>00756   <span class="comment">// example, the first list contains hyphens and dashes with the first symbol</span>
<a name="l00757"></a>00757   <span class="comment">// being the ASCII hyphen minus.</span>
<a name="l00758"></a>00758   <a class="code" href="class_generic_vector.html">GenericVector&lt;GenericVectorEqEq&lt;UNICHAR_ID&gt;</a> &gt; equivalent_symbols_;
<a name="l00759"></a>00759   <span class="comment">// Dawgs.</span>
<a name="l00760"></a>00760   <a class="code" href="class_generic_vector.html">DawgVector</a> dawgs_;
<a name="l00761"></a>00761   <a class="code" href="class_generic_vector.html">SuccessorListsVector</a> successors_;
<a name="l00762"></a>00762   <a class="code" href="classtesseract_1_1_trie.html">Trie</a> *pending_words_;
<a name="l00763"></a>00763   <span class="comment">// bigram_dawg_ points to a dawg of two-word bigrams which always supercede if</span>
<a name="l00764"></a>00764   <span class="comment">// any of them are present on the best choices list for a word pair.</span>
<a name="l00765"></a>00765   <span class="comment">// the bigrams are stored as space-separated words where:</span>
<a name="l00766"></a>00766   <span class="comment">// (1) leading and trailing punctuation has been removed from each word and</span>
<a name="l00767"></a>00767   <span class="comment">// (2) any digits have been replaced with &#39;?&#39; marks.</span>
<a name="l00768"></a>00768   <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *bigram_dawg_;
<a name="l00771"></a>00771   <span class="comment">// TODO(daria): need to support multiple languages in the future,</span>
<a name="l00772"></a>00772   <span class="comment">// so maybe will need to maintain a list of dawgs of each kind.</span>
<a name="l00773"></a>00773   <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *freq_dawg_;
<a name="l00774"></a>00774   <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *unambig_dawg_;
<a name="l00775"></a>00775   <a class="code" href="classtesseract_1_1_dawg.html">Dawg</a> *punc_dawg_;
<a name="l00776"></a>00776   <a class="code" href="classtesseract_1_1_trie.html">Trie</a> *document_words_;
<a name="l00779"></a>00779   <span class="keywordtype">int</span> max_fixed_length_dawgs_wdlen_;
<a name="l00782"></a>00782   <span class="keywordtype">float</span> wordseg_rating_adjust_factor_;
<a name="l00783"></a>00783   <span class="comment">// File for recording ambiguities discovered during dictionary search.</span>
<a name="l00784"></a>00784   FILE *output_ambig_words_file_;
<a name="l00785"></a>00785 
<a name="l00786"></a>00786  <span class="keyword">public</span>:
<a name="l00790"></a><a class="code" href="classtesseract_1_1_dict.html#ada6d04f60ef05aee517f3d24c6d6e9c9">00790</a>   <a class="code" href="params_8h.html#a4de8a1a302b34b48cc9cabad1b611802">STRING_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#ada6d04f60ef05aee517f3d24c6d6e9c9">user_words_suffix</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;A list of user-provided words.&quot;</span>);
<a name="l00791"></a>00791   <a class="code" href="params_8h.html#a4de8a1a302b34b48cc9cabad1b611802">STRING_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a503479ae064fd0f67f2bd71a3a4c3c47">user_patterns_suffix</a>, <span class="stringliteral">&quot;&quot;</span>,
<a name="l00792"></a><a class="code" href="classtesseract_1_1_dict.html#a503479ae064fd0f67f2bd71a3a4c3c47">00792</a>                <span class="stringliteral">&quot;A list of user-provided patterns.&quot;</span>);
<a name="l00793"></a><a class="code" href="classtesseract_1_1_dict.html#aa94c8519d79413969cbf94c9a9efcbd1">00793</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#aa94c8519d79413969cbf94c9a9efcbd1">load_system_dawg</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load system word dawg.&quot;</span>);
<a name="l00794"></a><a class="code" href="classtesseract_1_1_dict.html#a70cf001f370ad12c08ba7e1796d27cae">00794</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a70cf001f370ad12c08ba7e1796d27cae">load_freq_dawg</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load frequent word dawg.&quot;</span>);
<a name="l00795"></a><a class="code" href="classtesseract_1_1_dict.html#a73345ee670e9fd3a1ecad89e2fad1367">00795</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a73345ee670e9fd3a1ecad89e2fad1367">load_unambig_dawg</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load unambiguous word dawg.&quot;</span>);
<a name="l00796"></a>00796   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a3b017913ebeea374f4910f52ef21f8e7">load_punc_dawg</a>, <span class="keyword">true</span>,
<a name="l00797"></a><a class="code" href="classtesseract_1_1_dict.html#a3b017913ebeea374f4910f52ef21f8e7">00797</a>              <span class="stringliteral">&quot;Load dawg with punctuation patterns.&quot;</span>);
<a name="l00798"></a><a class="code" href="classtesseract_1_1_dict.html#a6d798a7eba3e146a9acae6b307b59d81">00798</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a6d798a7eba3e146a9acae6b307b59d81">load_number_dawg</a>, <span class="keyword">true</span>, <span class="stringliteral">&quot;Load dawg with number patterns.&quot;</span>);
<a name="l00799"></a>00799   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a1d85e18142cb329265eba1aa4b729cc7">load_fixed_length_dawgs</a>, <span class="keyword">true</span>,  <span class="stringliteral">&quot;Load fixed length&quot;</span>
<a name="l00800"></a><a class="code" href="classtesseract_1_1_dict.html#a1d85e18142cb329265eba1aa4b729cc7">00800</a>              <span class="stringliteral">&quot; dawgs (e.g. for non-space delimited languages)&quot;</span>);
<a name="l00801"></a>00801   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#adcf2c1a0ac63eb2bd393c57288362f4c">load_bigram_dawg</a>, <span class="keyword">false</span>,
<a name="l00802"></a><a class="code" href="classtesseract_1_1_dict.html#adcf2c1a0ac63eb2bd393c57288362f4c">00802</a>              <span class="stringliteral">&quot;Load dawg with special word bigrams.&quot;</span>);
<a name="l00803"></a>00803   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a6c5895e0ed2eae93f360b36efd78dfe5">segment_penalty_dict_frequent_word</a>, 1.0,
<a name="l00804"></a>00804                <span class="stringliteral">&quot;Score multiplier for word matches which have good case and&quot;</span>
<a name="l00805"></a><a class="code" href="classtesseract_1_1_dict.html#a6c5895e0ed2eae93f360b36efd78dfe5">00805</a>                <span class="stringliteral">&quot;are frequent in the given language (lower is better).&quot;</span>);
<a name="l00806"></a>00806 
<a name="l00807"></a>00807   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a1fa994ce1b5b86d436eb2ab3f2ffbe1b">segment_penalty_dict_case_ok</a>, 1.1,
<a name="l00808"></a>00808                <span class="stringliteral">&quot;Score multiplier for word matches that have good case &quot;</span>
<a name="l00809"></a><a class="code" href="classtesseract_1_1_dict.html#a1fa994ce1b5b86d436eb2ab3f2ffbe1b">00809</a>                <span class="stringliteral">&quot;(lower is better).&quot;</span>);
<a name="l00810"></a>00810 
<a name="l00811"></a>00811   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a3aa39d0dfa6e33481953461fdece4d38">segment_penalty_dict_case_bad</a>, 1.3125,
<a name="l00812"></a>00812                <span class="stringliteral">&quot;Default score multiplier for word matches, which may have &quot;</span>
<a name="l00813"></a><a class="code" href="classtesseract_1_1_dict.html#a3aa39d0dfa6e33481953461fdece4d38">00813</a>                <span class="stringliteral">&quot;case issues (lower is better).&quot;</span>);
<a name="l00814"></a>00814 
<a name="l00815"></a>00815   <span class="comment">// TODO(daria): remove this param when ngram permuter is deprecated.</span>
<a name="l00816"></a>00816   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a0469526f34710b7ef0f79584a547919a">segment_penalty_ngram_best_choice</a>, 1.24,
<a name="l00817"></a><a class="code" href="classtesseract_1_1_dict.html#a0469526f34710b7ef0f79584a547919a">00817</a>                <span class="stringliteral">&quot;Multipler to for the best choice from the ngram model.&quot;</span>);
<a name="l00818"></a>00818 
<a name="l00819"></a>00819   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a4a192a4266de4fecbf296101d60ace2b">segment_penalty_dict_nonword</a>, 1.25,
<a name="l00820"></a>00820                <span class="stringliteral">&quot;Score multiplier for glyph fragment segmentations which &quot;</span>
<a name="l00821"></a><a class="code" href="classtesseract_1_1_dict.html#a4a192a4266de4fecbf296101d60ace2b">00821</a>                <span class="stringliteral">&quot;do not match a dictionary word (lower is better).&quot;</span>);
<a name="l00822"></a>00822 
<a name="l00823"></a>00823   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a683a1781be97f4376fa1c01bded08e66">segment_penalty_garbage</a>, 1.50,
<a name="l00824"></a>00824                <span class="stringliteral">&quot;Score multiplier for poorly cased strings that are not in&quot;</span>
<a name="l00825"></a>00825                <span class="stringliteral">&quot; the dictionary and generally look like garbage (lower is&quot;</span>
<a name="l00826"></a><a class="code" href="classtesseract_1_1_dict.html#a683a1781be97f4376fa1c01bded08e66">00826</a>                <span class="stringliteral">&quot; better).&quot;</span>);
<a name="l00827"></a>00827   <a class="code" href="params_8h.html#a4de8a1a302b34b48cc9cabad1b611802">STRING_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#acae35981fc849d608182db8cfe881b0b">output_ambig_words_file</a>, <span class="stringliteral">&quot;&quot;</span>,
<a name="l00828"></a><a class="code" href="classtesseract_1_1_dict.html#acae35981fc849d608182db8cfe881b0b">00828</a>                <span class="stringliteral">&quot;Output file for ambiguities found in the dictionary&quot;</span>);
<a name="l00829"></a>00829   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a1971c014e816a08c8deaa45fc8d6fff4">dawg_debug_level</a>, 0, <span class="stringliteral">&quot;Set to 1 for general debug info&quot;</span>
<a name="l00830"></a><a class="code" href="classtesseract_1_1_dict.html#a1971c014e816a08c8deaa45fc8d6fff4">00830</a>             <span class="stringliteral">&quot;, to 2 for more details, to 3 to see all the debug messages&quot;</span>);
<a name="l00831"></a><a class="code" href="classtesseract_1_1_dict.html#add6604e6b4ce6ffd77c78d58b8a3244a">00831</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#add6604e6b4ce6ffd77c78d58b8a3244a">hyphen_debug_level</a>, 0, <span class="stringliteral">&quot;Debug level for hyphenated words.&quot;</span>);
<a name="l00832"></a><a class="code" href="classtesseract_1_1_dict.html#a86ce83b9aa78f6f95a83e95bc3f1d1e4">00832</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a86ce83b9aa78f6f95a83e95bc3f1d1e4">max_viterbi_list_size</a>, 10, <span class="stringliteral">&quot;Maximum size of viterbi list.&quot;</span>);
<a name="l00833"></a>00833   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#aa45bac6fe79a370226cf119c66d2fe7e">use_only_first_uft8_step</a>, <span class="keyword">false</span>,
<a name="l00834"></a>00834              <span class="stringliteral">&quot;Use only the first UTF8 step of the given string&quot;</span>
<a name="l00835"></a><a class="code" href="classtesseract_1_1_dict.html#aa45bac6fe79a370226cf119c66d2fe7e">00835</a>              <span class="stringliteral">&quot; when computing log probabilities.&quot;</span>);
<a name="l00836"></a><a class="code" href="classtesseract_1_1_dict.html#a054d69744519c2c7a89e7b1159347385">00836</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a054d69744519c2c7a89e7b1159347385">certainty_scale</a>, 20.0, <span class="stringliteral">&quot;Certainty scaling factor&quot;</span>);
<a name="l00837"></a>00837   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a793fa27917d4728c9d07b667a039c1e5">stopper_nondict_certainty_base</a>, -2.50,
<a name="l00838"></a><a class="code" href="classtesseract_1_1_dict.html#a793fa27917d4728c9d07b667a039c1e5">00838</a>                <span class="stringliteral">&quot;Certainty threshold for non-dict words&quot;</span>);
<a name="l00839"></a>00839   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a73282067f0bb86fcaf689b9202bb6702">stopper_phase2_certainty_rejection_offset</a>, 1.0,
<a name="l00840"></a><a class="code" href="classtesseract_1_1_dict.html#a73282067f0bb86fcaf689b9202bb6702">00840</a>                <span class="stringliteral">&quot;Reject certainty offset&quot;</span>);
<a name="l00841"></a>00841   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#af37cc8127c3872088d93aabaf3453e25">stopper_smallword_size</a>, 2,
<a name="l00842"></a><a class="code" href="classtesseract_1_1_dict.html#af37cc8127c3872088d93aabaf3453e25">00842</a>             <span class="stringliteral">&quot;Size of dict word to be treated as non-dict word&quot;</span>);
<a name="l00843"></a>00843   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#aa996712ed754700ede71a883d4211019">stopper_certainty_per_char</a>, -0.50,
<a name="l00844"></a><a class="code" href="classtesseract_1_1_dict.html#aa996712ed754700ede71a883d4211019">00844</a>                <span class="stringliteral">&quot;Certainty to add for each dict char above small word size.&quot;</span>);
<a name="l00845"></a>00845   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a105fa57ee5545f36fc0f1baf89d2d3af">stopper_allowable_character_badness</a>, 3.0,
<a name="l00846"></a><a class="code" href="classtesseract_1_1_dict.html#a105fa57ee5545f36fc0f1baf89d2d3af">00846</a>                <span class="stringliteral">&quot;Max certaintly variation allowed in a word (in sigma)&quot;</span>);
<a name="l00847"></a><a class="code" href="classtesseract_1_1_dict.html#aae528f9618755dee3ab974f06f1794ea">00847</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#aae528f9618755dee3ab974f06f1794ea">stopper_debug_level</a>, 0, <span class="stringliteral">&quot;Stopper debug level&quot;</span>);
<a name="l00848"></a>00848   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a444f71f744f92cfcd58dea0a2255e044">stopper_no_acceptable_choices</a>, <span class="keyword">false</span>,
<a name="l00849"></a>00849              <span class="stringliteral">&quot;Make AcceptableChoice() always return false. Useful&quot;</span>
<a name="l00850"></a><a class="code" href="classtesseract_1_1_dict.html#a444f71f744f92cfcd58dea0a2255e044">00850</a>              <span class="stringliteral">&quot; when there is a need to explore all segmentations&quot;</span>);
<a name="l00851"></a>00851   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a646d0403be41d8484d68250136f915f4">stopper_ambiguity_threshold_gain</a>, 8.0,
<a name="l00852"></a><a class="code" href="classtesseract_1_1_dict.html#a646d0403be41d8484d68250136f915f4">00852</a>                <span class="stringliteral">&quot;Gain factor for ambiguity threshold.&quot;</span>);
<a name="l00853"></a>00853   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a81ce7deec4aee35f855d92f31e3c7463">stopper_ambiguity_threshold_offset</a>, 1.5,
<a name="l00854"></a><a class="code" href="classtesseract_1_1_dict.html#a81ce7deec4aee35f855d92f31e3c7463">00854</a>                <span class="stringliteral">&quot;Certainty offset for ambiguity threshold.&quot;</span>);
<a name="l00855"></a><a class="code" href="classtesseract_1_1_dict.html#a0abfd0b48eb83f07ef6db2baf9f189e1">00855</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a0abfd0b48eb83f07ef6db2baf9f189e1">save_raw_choices</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;Save all explored raw choices&quot;</span>);
<a name="l00856"></a><a class="code" href="classtesseract_1_1_dict.html#a5b1b181a4638784a6225a508b810dbc9">00856</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a5b1b181a4638784a6225a508b810dbc9">tessedit_truncate_wordchoice_log</a>, 10, <span class="stringliteral">&quot;Max words to keep in list&quot;</span>);
<a name="l00857"></a>00857   <a class="code" href="params_8h.html#a4de8a1a302b34b48cc9cabad1b611802">STRING_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#aa858b147d2551976cea6cc174544988e">word_to_debug</a>, <span class="stringliteral">&quot;&quot;</span>, <span class="stringliteral">&quot;Word for which stopper debug information&quot;</span>
<a name="l00858"></a><a class="code" href="classtesseract_1_1_dict.html#aa858b147d2551976cea6cc174544988e">00858</a>                <span class="stringliteral">&quot; should be printed to stdout&quot;</span>);
<a name="l00859"></a>00859   <a class="code" href="params_8h.html#a4de8a1a302b34b48cc9cabad1b611802">STRING_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a2fe5a98d91c6d9c8b655780cfa8654a4">word_to_debug_lengths</a>, <span class="stringliteral">&quot;&quot;</span>,
<a name="l00860"></a><a class="code" href="classtesseract_1_1_dict.html#a2fe5a98d91c6d9c8b655780cfa8654a4">00860</a>                <span class="stringliteral">&quot;Lengths of unichars in word_to_debug&quot;</span>);
<a name="l00861"></a><a class="code" href="classtesseract_1_1_dict.html#ad5e37470ce50ef6e19c291cd12b0d123">00861</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#ad5e37470ce50ef6e19c291cd12b0d123">fragments_debug</a>, 0, <span class="stringliteral">&quot;Debug character fragments&quot;</span>);
<a name="l00862"></a><a class="code" href="classtesseract_1_1_dict.html#ac1e26982bb8526a587932aa73efd4ce0">00862</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#ac1e26982bb8526a587932aa73efd4ce0">segment_debug</a>, 0, <span class="stringliteral">&quot;Debug the whole segmentation process&quot;</span>);
<a name="l00863"></a><a class="code" href="classtesseract_1_1_dict.html#a02767c3bd2bc4f22b49dacb6d997df28">00863</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a02767c3bd2bc4f22b49dacb6d997df28">permute_debug</a>, 0, <span class="stringliteral">&quot;Debug char permutation process&quot;</span>);
<a name="l00864"></a>00864   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a27c6bbd86f1853b57319290a905528c2">bestrate_pruning_factor</a>, 2.0, <span class="stringliteral">&quot;Multiplying factor of&quot;</span>
<a name="l00865"></a><a class="code" href="classtesseract_1_1_dict.html#a27c6bbd86f1853b57319290a905528c2">00865</a>                <span class="stringliteral">&quot; current best rate to prune other hypotheses&quot;</span>);
<a name="l00866"></a>00866   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#abd28e5f2cfdfa90d418d0b5fb650f510">permute_script_word</a>, 0,
<a name="l00867"></a><a class="code" href="classtesseract_1_1_dict.html#abd28e5f2cfdfa90d418d0b5fb650f510">00867</a>              <span class="stringliteral">&quot;Turn on word script consistency permuter&quot;</span>);
<a name="l00868"></a>00868   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a3c252da043a05b0abdf6f7d62cb781cb">segment_segcost_rating</a>, 0,
<a name="l00869"></a><a class="code" href="classtesseract_1_1_dict.html#a3c252da043a05b0abdf6f7d62cb781cb">00869</a>              <span class="stringliteral">&quot;incorporate segmentation cost in word rating?&quot;</span>);
<a name="l00870"></a>00870   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a7ba94a461d09ad96991ccdf43b1b53e0">segment_nonalphabetic_script</a>, <span class="keyword">false</span>,
<a name="l00871"></a>00871              <span class="stringliteral">&quot;Don&#39;t use any alphabetic-specific tricks.&quot;</span>
<a name="l00872"></a>00872              <span class="stringliteral">&quot;Set to true in the traineddata config file for&quot;</span>
<a name="l00873"></a><a class="code" href="classtesseract_1_1_dict.html#a7ba94a461d09ad96991ccdf43b1b53e0">00873</a>              <span class="stringliteral">&quot; scripts that are cursive or inherently fixed-pitch&quot;</span>);
<a name="l00874"></a>00874   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a2baa03008eaaaff468c8187a0346f073">segment_reward_script</a>, 0.95,
<a name="l00875"></a>00875                <span class="stringliteral">&quot;Score multipler for script consistency within a word. &quot;</span>
<a name="l00876"></a>00876                <span class="stringliteral">&quot;Being a &#39;reward&#39; factor, it should be &lt;= 1. &quot;</span>
<a name="l00877"></a><a class="code" href="classtesseract_1_1_dict.html#a2baa03008eaaaff468c8187a0346f073">00877</a>                <span class="stringliteral">&quot;Smaller value implies bigger reward.&quot;</span>);
<a name="l00878"></a>00878   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a7605ec60e77ee219fcffbdb2fbef062e">permute_fixed_length_dawg</a>, 0,
<a name="l00879"></a><a class="code" href="classtesseract_1_1_dict.html#a7605ec60e77ee219fcffbdb2fbef062e">00879</a>              <span class="stringliteral">&quot;Turn on fixed-length phrasebook search permuter&quot;</span>);
<a name="l00880"></a>00880   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a697ad2ae7377608dbadd87771dd8a9da">permute_chartype_word</a>, 0,
<a name="l00881"></a><a class="code" href="classtesseract_1_1_dict.html#a697ad2ae7377608dbadd87771dd8a9da">00881</a>              <span class="stringliteral">&quot;Turn on character type (property) consistency permuter&quot;</span>);
<a name="l00882"></a>00882   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a07341950953ad8c06d2f85a3628158a1">segment_reward_chartype</a>, 0.97,
<a name="l00883"></a><a class="code" href="classtesseract_1_1_dict.html#a07341950953ad8c06d2f85a3628158a1">00883</a>                <span class="stringliteral">&quot;Score multipler for char type consistency within a word. &quot;</span>);
<a name="l00884"></a>00884   <span class="comment">// TODO(daria): remove this param when ngram permuter is deprecated.</span>
<a name="l00885"></a>00885   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#ac01ea1e9f23e1445ad204c6e2e902edf">segment_reward_ngram_best_choice</a>, 0.99,
<a name="l00886"></a>00886                <span class="stringliteral">&quot;Score multipler for ngram permuter&#39;s best choice&quot;</span>
<a name="l00887"></a><a class="code" href="classtesseract_1_1_dict.html#ac01ea1e9f23e1445ad204c6e2e902edf">00887</a>                <span class="stringliteral">&quot; (only used in the Han script path).&quot;</span>);
<a name="l00888"></a><a class="code" href="classtesseract_1_1_dict.html#a00bc956997b48bd63a56915d331f8add">00888</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a00bc956997b48bd63a56915d331f8add">save_doc_words</a>, 0, <span class="stringliteral">&quot;Save Document Words&quot;</span>);
<a name="l00889"></a><a class="code" href="classtesseract_1_1_dict.html#a242ba23c00fdfb4680e2e6f45d8b4c68">00889</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a242ba23c00fdfb4680e2e6f45d8b4c68">doc_dict_enable</a>, 1, <span class="stringliteral">&quot;Enable Document Dictionary &quot;</span>);
<a name="l00890"></a>00890   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#ab375bc2c9356d602366a0af9b6bf9415">doc_dict_pending_threshold</a>, 0.0,
<a name="l00891"></a><a class="code" href="classtesseract_1_1_dict.html#ab375bc2c9356d602366a0af9b6bf9415">00891</a>                <span class="stringliteral">&quot;Worst certainty for using pending dictionary&quot;</span>);
<a name="l00892"></a>00892   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a1ebd30905b234dce37f13b08ab572502">doc_dict_certainty_threshold</a>, -2.25, <span class="stringliteral">&quot;Worst certainty&quot;</span>
<a name="l00893"></a><a class="code" href="classtesseract_1_1_dict.html#a1ebd30905b234dce37f13b08ab572502">00893</a>                <span class="stringliteral">&quot; for words that can be inserted into the document dictionary&quot;</span>);
<a name="l00894"></a>00894   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a8ef81325d91ad933e5c2c861c6e1106a">ngram_permuter_activated</a>, <span class="keyword">false</span>,
<a name="l00895"></a><a class="code" href="classtesseract_1_1_dict.html#a8ef81325d91ad933e5c2c861c6e1106a">00895</a>              <span class="stringliteral">&quot;Activate character-level n-gram-based permuter&quot;</span>);
<a name="l00896"></a>00896   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#a724a3890de749e064396026caec31ef7">max_permuter_attempts</a>, 10000, <span class="stringliteral">&quot;Maximum number of different&quot;</span>
<a name="l00897"></a>00897             <span class="stringliteral">&quot; character choices to consider during permutation.&quot;</span>
<a name="l00898"></a>00898             <span class="stringliteral">&quot; This limit is especially useful when user patterns&quot;</span>
<a name="l00899"></a>00899             <span class="stringliteral">&quot; are specified, since overly generic patterns can result in&quot;</span>
<a name="l00900"></a><a class="code" href="classtesseract_1_1_dict.html#a724a3890de749e064396026caec31ef7">00900</a>             <span class="stringliteral">&quot; dawg search exploring an overly large number of options.&quot;</span>);
<a name="l00901"></a><a class="code" href="classtesseract_1_1_dict.html#abee65aea72351faabcd1b3fcac562339">00901</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(<a class="code" href="classtesseract_1_1_dict.html#abee65aea72351faabcd1b3fcac562339">permute_only_top</a>, <span class="keyword">false</span>, <span class="stringliteral">&quot;Run only the top choice permuter&quot;</span>);
<a name="l00902"></a>00902 };
<a name="l00903"></a>00903 }  <span class="comment">// namespace tesseract</span>
<a name="l00904"></a>00904 
<a name="l00905"></a>00905 <span class="preprocessor">#endif  // THIRD_PARTY_TESSERACT_DICT_DICT_H_</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Feb 2 08:19:20 2012 for Tesseract by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
