<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>Tesseract: /home/rays/src/opensrc/tesseract-ocr/wordrec/wordrec.h Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<!-- Generated by Doxygen 1.6.3 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>File&nbsp;Members</span></a></li>
    </ul>
  </div>
<h1>/home/rays/src/opensrc/tesseract-ocr/wordrec/wordrec.h</h1><a href="wordrec_8h.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 
<a name="l00002"></a>00002 <span class="comment">// File:        wordrec.h</span>
<a name="l00003"></a>00003 <span class="comment">// Description: wordrec class.</span>
<a name="l00004"></a>00004 <span class="comment">// Author:      Samuel Charron</span>
<a name="l00005"></a>00005 <span class="comment">//</span>
<a name="l00006"></a>00006 <span class="comment">// (C) Copyright 2006, Google Inc.</span>
<a name="l00007"></a>00007 <span class="comment">// Licensed under the Apache License, Version 2.0 (the &quot;License&quot;);</span>
<a name="l00008"></a>00008 <span class="comment">// you may not use this file except in compliance with the License.</span>
<a name="l00009"></a>00009 <span class="comment">// You may obtain a copy of the License at</span>
<a name="l00010"></a>00010 <span class="comment">// http://www.apache.org/licenses/LICENSE-2.0</span>
<a name="l00011"></a>00011 <span class="comment">// Unless required by applicable law or agreed to in writing, software</span>
<a name="l00012"></a>00012 <span class="comment">// distributed under the License is distributed on an &quot;AS IS&quot; BASIS,</span>
<a name="l00013"></a>00013 <span class="comment">// WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.</span>
<a name="l00014"></a>00014 <span class="comment">// See the License for the specific language governing permissions and</span>
<a name="l00015"></a>00015 <span class="comment">// limitations under the License.</span>
<a name="l00016"></a>00016 <span class="comment">//</span>
<a name="l00018"></a>00018 <span class="comment"></span>
<a name="l00019"></a>00019 <span class="preprocessor">#ifndef TESSERACT_WORDREC_WORDREC_H__</span>
<a name="l00020"></a>00020 <span class="preprocessor"></span><span class="preprocessor">#define TESSERACT_WORDREC_WORDREC_H__</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span>
<a name="l00022"></a>00022 <span class="preprocessor">#include &quot;<a class="code" href="associate_8h.html">associate.h</a>&quot;</span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &quot;<a class="code" href="classify_8h.html">classify.h</a>&quot;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &quot;<a class="code" href="dict_8h.html">dict.h</a>&quot;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &quot;<a class="code" href="language__model_8h.html">language_model.h</a>&quot;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &quot;<a class="code" href="ratngs_8h.html">ratngs.h</a>&quot;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &quot;<a class="code" href="matrix_8h.html">matrix.h</a>&quot;</span>
<a name="l00028"></a>00028 <span class="preprocessor">#include &quot;<a class="code" href="matchtab_8h.html">matchtab.h</a>&quot;</span>
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;<a class="code" href="oldheap_8h.html">oldheap.h</a>&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;<a class="code" href="gradechop_8h.html">gradechop.h</a>&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;<a class="code" href="seam_8h.html">seam.h</a>&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;<a class="code" href="states_8h.html">states.h</a>&quot;</span>
<a name="l00033"></a>00033 <span class="preprocessor">#include &quot;<a class="code" href="findseam_8h.html">findseam.h</a>&quot;</span>
<a name="l00034"></a>00034 <span class="preprocessor">#include &quot;<a class="code" href="callcpp_8h.html">callcpp.h</a>&quot;</span>
<a name="l00035"></a>00035 
<a name="l00036"></a>00036 <span class="keyword">struct </span><a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a>;
<a name="l00037"></a>00037 <span class="keyword">struct </span><a class="code" href="struct_s_e_a_r_c_h___r_e_c_o_r_d.html">SEARCH_RECORD</a>;
<a name="l00038"></a>00038 <span class="keyword">class </span><a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a>;
<a name="l00039"></a>00039 
<a name="l00040"></a>00040 <span class="comment">// A struct for storing child/parent pairs of the BLOB_CHOICE_LISTs</span>
<a name="l00041"></a>00041 <span class="comment">// to be processed by the segmentation search.</span>
<a name="l00042"></a><a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html">00042</a> <span class="keyword">struct </span><a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html">SEG_SEARCH_PENDING</a> : <span class="keyword">public</span> <a class="code" href="class_e_l_i_s_t___l_i_n_k.html">ELIST_LINK</a> {
<a name="l00043"></a><a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a032fccf55a36d4b0f37e633851c225c3">00043</a>   <a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a032fccf55a36d4b0f37e633851c225c3">SEG_SEARCH_PENDING</a>(<span class="keywordtype">int</span> child_row_arg,
<a name="l00044"></a>00044                      BLOB_CHOICE_LIST *parent_arg,
<a name="l00045"></a>00045                      <a class="code" href="namespacetesseract.html#a87cc64ed462a40c9c210a8bab7cb9b87">tesseract::LanguageModelFlagsType</a> changed_arg) :
<a name="l00046"></a>00046     <a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a23c23673b30de59bbea85026226c0574">child_row</a>(child_row_arg), <a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#aa392a894841d0ca0e37d1ef324778364">parent</a>(parent_arg), <a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a24b162a87d559d04dbe998ab1da571f9">changed</a>(changed_arg) {}
<a name="l00047"></a>00047 
<a name="l00048"></a>00048   <span class="comment">// Comparator function for add_sorted().</span>
<a name="l00049"></a><a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a5b59162836f4c12d641f19298d96daba">00049</a>   <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a5b59162836f4c12d641f19298d96daba">compare</a>(<span class="keyword">const</span> <span class="keywordtype">void</span> *p1, <span class="keyword">const</span> <span class="keywordtype">void</span> *p2) {
<a name="l00050"></a>00050     <span class="keyword">const</span> <a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html">SEG_SEARCH_PENDING</a> *e1 = *<span class="keyword">reinterpret_cast&lt;</span>
<a name="l00051"></a>00051       <span class="keyword">const </span><a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html">SEG_SEARCH_PENDING</a> * <span class="keyword">const </span>*<span class="keyword">&gt;</span>(p1);
<a name="l00052"></a>00052     <span class="keyword">const</span> <a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html">SEG_SEARCH_PENDING</a> *e2 = *<span class="keyword">reinterpret_cast&lt;</span>
<a name="l00053"></a>00053       <span class="keyword">const </span><a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html">SEG_SEARCH_PENDING</a> * <span class="keyword">const </span>*<span class="keyword">&gt;</span>(p2);
<a name="l00054"></a>00054     <span class="keywordflow">if</span> (e1-&gt;<a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a23c23673b30de59bbea85026226c0574">child_row</a> == e2-&gt;<a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a23c23673b30de59bbea85026226c0574">child_row</a> &amp;&amp;
<a name="l00055"></a>00055         e1-&gt;<a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#aa392a894841d0ca0e37d1ef324778364">parent</a> == e2-&gt;<a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#aa392a894841d0ca0e37d1ef324778364">parent</a>) <span class="keywordflow">return</span> 0;
<a name="l00056"></a>00056     <span class="keywordflow">return</span> (e1-&gt;<a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a23c23673b30de59bbea85026226c0574">child_row</a> &lt; e2-&gt;<a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a23c23673b30de59bbea85026226c0574">child_row</a>) ? -1 : 1;
<a name="l00057"></a>00057   }
<a name="l00058"></a>00058 
<a name="l00059"></a><a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a23c23673b30de59bbea85026226c0574">00059</a>   <span class="keywordtype">int</span> <a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a23c23673b30de59bbea85026226c0574">child_row</a>;  <span class="comment">// row of the child in the ratings matrix</span>
<a name="l00060"></a><a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#aa392a894841d0ca0e37d1ef324778364">00060</a>   BLOB_CHOICE_LIST *<a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#aa392a894841d0ca0e37d1ef324778364">parent</a>;  <span class="comment">// pointer to the parent BLOB_CHOICE_LIST</span>
<a name="l00061"></a>00061   <span class="comment">// Flags that indicate which language model components are still active</span>
<a name="l00062"></a>00062   <span class="comment">// on the parent path (i.e. recorded some changes to the language model</span>
<a name="l00063"></a>00063   <span class="comment">// state) and need to be invoked for this pending entry.</span>
<a name="l00064"></a>00064   <span class="comment">// This field is used as an argument to LanguageModel::UpdateState()</span>
<a name="l00065"></a>00065   <span class="comment">// in Wordrec::UpdateSegSearchNodes().</span>
<a name="l00066"></a><a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a24b162a87d559d04dbe998ab1da571f9">00066</a>   <a class="code" href="namespacetesseract.html#a87cc64ed462a40c9c210a8bab7cb9b87">tesseract::LanguageModelFlagsType</a> <a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html#a24b162a87d559d04dbe998ab1da571f9">changed</a>;
<a name="l00067"></a>00067 };
<a name="l00068"></a>00068 
<a name="l00069"></a>00069 <a class="code" href="elst_8h.html#a6cf5144252ef24ea7bb5e0da1e698a0b">ELISTIZEH</a>(<a class="code" href="struct_s_e_g___s_e_a_r_c_h___p_e_n_d_i_n_g.html">SEG_SEARCH_PENDING</a>);
<a name="l00070"></a>00070 
<a name="l00071"></a>00071 
<a name="l00072"></a>00072 <span class="keyword">namespace </span>tesseract {
<a name="l00073"></a>00073 
<a name="l00074"></a>00074 <span class="comment">/* ccmain/tstruct.cpp *********************************************************/</span>
<a name="l00075"></a><a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html">00075</a> <span class="keyword">class </span><a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html">FRAGMENT</a>:<span class="keyword">public</span> <a class="code" href="class_e_l_i_s_t___l_i_n_k.html">ELIST_LINK</a>
<a name="l00076"></a>00076 {
<a name="l00077"></a>00077   <span class="keyword">public</span>:
<a name="l00078"></a><a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#ad92817a034efcb39085d32c28f4388c7">00078</a>     <a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#ad92817a034efcb39085d32c28f4388c7">FRAGMENT</a>() {  <span class="comment">//constructor</span>
<a name="l00079"></a>00079     }
<a name="l00080"></a>00080     <a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#ad92817a034efcb39085d32c28f4388c7">FRAGMENT</a>(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *head_pt,   <span class="comment">//start</span>
<a name="l00081"></a>00081              <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *tail_pt);  <span class="comment">//end</span>
<a name="l00082"></a>00082 
<a name="l00083"></a><a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#a478d7c1b752caca70a20bee30bfeedb7">00083</a>     <a class="code" href="class_i_c_o_o_r_d.html" title="integer coordinate">ICOORD</a> <a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#a478d7c1b752caca70a20bee30bfeedb7">head</a>;                 <span class="comment">//coords of start</span>
<a name="l00084"></a><a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#a8526d72041f8fd3fc5c0954b2bd23ca0">00084</a>     <a class="code" href="class_i_c_o_o_r_d.html" title="integer coordinate">ICOORD</a> <a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#a8526d72041f8fd3fc5c0954b2bd23ca0">tail</a>;                 <span class="comment">//coords of end</span>
<a name="l00085"></a><a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#a34eb3fd9b4cd674029930225914abfe2">00085</a>     <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *<a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#a34eb3fd9b4cd674029930225914abfe2">headpt</a>;              <span class="comment">//start point</span>
<a name="l00086"></a><a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#a5d8660627c2f55ce4c8ad14f1b5813d4">00086</a>     <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *<a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html#a5d8660627c2f55ce4c8ad14f1b5813d4">tailpt</a>;              <span class="comment">//end point</span>
<a name="l00087"></a>00087 };
<a name="l00088"></a>00088 <a class="code" href="namespacetesseract.html#aad9b817c74cee6bd76a4912e7f54ff7b">ELISTIZEH</a>(<a class="code" href="classtesseract_1_1_f_r_a_g_m_e_n_t.html">FRAGMENT</a>)
<a name="l00089"></a>00089 
<a name="l00090"></a>00090 
<a name="l00091"></a><a class="code" href="classtesseract_1_1_wordrec.html">00091</a> class <a class="code" href="classtesseract_1_1_wordrec.html">Wordrec</a> : public <a class="code" href="classtesseract_1_1_classify.html">Classify</a> {
<a name="l00092"></a>00092  <span class="keyword">public</span>:
<a name="l00093"></a>00093   <span class="comment">// config parameters *******************************************************</span>
<a name="l00094"></a>00094   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(merge_fragments_in_matrix, TRUE,
<a name="l00095"></a>00095              <span class="stringliteral">&quot;Merge the fragments in the ratings matrix and delete them &quot;</span>
<a name="l00096"></a><a class="code" href="classtesseract_1_1_wordrec.html#a0dcc862e7e80e66c451e8e98b534ca46">00096</a>              <span class="stringliteral">&quot;after merging&quot;</span>);
<a name="l00097"></a><a class="code" href="classtesseract_1_1_wordrec.html#a1d72dac6cc8ddbff1ba7c911d7d2d0bb">00097</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(wordrec_no_block, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>, <span class="stringliteral">&quot;Don&#39;t output block information&quot;</span>);
<a name="l00098"></a><a class="code" href="classtesseract_1_1_wordrec.html#aba19336c1e635f22b3c27024afd07fed">00098</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(wordrec_enable_assoc, TRUE, <span class="stringliteral">&quot;Associator Enable&quot;</span>);
<a name="l00099"></a>00099   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(force_word_assoc, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,
<a name="l00100"></a>00100              <span class="stringliteral">&quot;force associator to run regardless of what enable_assoc is.&quot;</span>
<a name="l00101"></a><a class="code" href="classtesseract_1_1_wordrec.html#a447f3fa5c50ca545e0a49887ee669ff8">00101</a>              <span class="stringliteral">&quot;This is used for CJK where component grouping is necessary.&quot;</span>);
<a name="l00102"></a><a class="code" href="classtesseract_1_1_wordrec.html#a57c3675d967208936be65a14e5b64c7d">00102</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(wordrec_num_seg_states, 30, <span class="stringliteral">&quot;Segmentation states&quot;</span>);
<a name="l00103"></a><a class="code" href="classtesseract_1_1_wordrec.html#abbb36fc5e6f3b89797c155cfce0b0841">00103</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(wordrec_worst_state, 1, <span class="stringliteral">&quot;Worst segmentation state&quot;</span>);
<a name="l00104"></a>00104   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(fragments_guide_chopper, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,
<a name="l00105"></a><a class="code" href="classtesseract_1_1_wordrec.html#a62f9bd7c796160d6fad61ba616e67ead">00105</a>              <span class="stringliteral">&quot;Use information from fragments to guide chopping process&quot;</span>);
<a name="l00106"></a><a class="code" href="classtesseract_1_1_wordrec.html#a34abe5c1b41feff68500d1b83a1f891d">00106</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(repair_unchopped_blobs, 1, <span class="stringliteral">&quot;Fix blobs that aren&#39;t chopped&quot;</span>);
<a name="l00107"></a><a class="code" href="classtesseract_1_1_wordrec.html#a57ae3e0529a624fd3677f96d5b43fcc8">00107</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(tessedit_certainty_threshold, -2.25, <span class="stringliteral">&quot;Good blob limit&quot;</span>);
<a name="l00108"></a><a class="code" href="classtesseract_1_1_wordrec.html#a3f1c04cfbc1650eae6fc981984717248">00108</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(chop_debug, 0, <span class="stringliteral">&quot;Chop debug&quot;</span>);
<a name="l00109"></a><a class="code" href="classtesseract_1_1_wordrec.html#adcf4728e9f36b1c55a024165a31ca2e4">00109</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(chop_enable, 1, <span class="stringliteral">&quot;Chop enable&quot;</span>);
<a name="l00110"></a><a class="code" href="classtesseract_1_1_wordrec.html#a8914016a85c92a468b1d1da3eda53695">00110</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(chop_vertical_creep, 0, <span class="stringliteral">&quot;Vertical creep&quot;</span>);
<a name="l00111"></a><a class="code" href="classtesseract_1_1_wordrec.html#a14ec030cc0189e71e05ea6630a1abbf5">00111</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(chop_split_length, 10000, <span class="stringliteral">&quot;Split Length&quot;</span>);
<a name="l00112"></a><a class="code" href="classtesseract_1_1_wordrec.html#a542ce310766b22a01d277a0751c6986e">00112</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(chop_same_distance, 2, <span class="stringliteral">&quot;Same distance&quot;</span>);
<a name="l00113"></a><a class="code" href="classtesseract_1_1_wordrec.html#ad9e49481be94c7fd0fb0a1a3f38ea605">00113</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(chop_min_outline_points, 6, <span class="stringliteral">&quot;Min Number of Points on Outline&quot;</span>);
<a name="l00114"></a><a class="code" href="classtesseract_1_1_wordrec.html#ab6afc69fe3401fb2ffd2ab64a19c8824">00114</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(chop_inside_angle, -50, <span class="stringliteral">&quot;Min Inside Angle Bend&quot;</span>);
<a name="l00115"></a><a class="code" href="classtesseract_1_1_wordrec.html#aa87cc41f196b1779bec5e1040c4f857e">00115</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(chop_min_outline_area, 2000, <span class="stringliteral">&quot;Min Outline Area&quot;</span>);
<a name="l00116"></a><a class="code" href="classtesseract_1_1_wordrec.html#aefabcf9d889b0465eb484fff5a09e93a">00116</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(chop_split_dist_knob, 0.5, <span class="stringliteral">&quot;Split length adjustment&quot;</span>);
<a name="l00117"></a><a class="code" href="classtesseract_1_1_wordrec.html#ad362b437458be7cc17aa39e01d36c17e">00117</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(chop_overlap_knob, 0.9, <span class="stringliteral">&quot;Split overlap adjustment&quot;</span>);
<a name="l00118"></a><a class="code" href="classtesseract_1_1_wordrec.html#a7b115ea8fffc0f54152d294c71da964d">00118</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(chop_center_knob, 0.15, <span class="stringliteral">&quot;Split center adjustment&quot;</span>);
<a name="l00119"></a><a class="code" href="classtesseract_1_1_wordrec.html#a1e5af8d3ffa2cc52de487e7556a8fdf0">00119</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(chop_sharpness_knob, 0.06, <span class="stringliteral">&quot;Split sharpness adjustment&quot;</span>);
<a name="l00120"></a><a class="code" href="classtesseract_1_1_wordrec.html#aa63e4f7808cf2b9a60a11012cb7aee01">00120</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(chop_width_change_knob, 5.0, <span class="stringliteral">&quot;Width change adjustment&quot;</span>);
<a name="l00121"></a><a class="code" href="classtesseract_1_1_wordrec.html#ac696a875283d1ce3e888e1b63fd52d9f">00121</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(chop_ok_split, 100.0, <span class="stringliteral">&quot;OK split limit&quot;</span>);
<a name="l00122"></a><a class="code" href="classtesseract_1_1_wordrec.html#ad18f0e1c62f90e2be42190a720158862">00122</a>   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(chop_good_split, 50.0, <span class="stringliteral">&quot;Good split limit&quot;</span>);
<a name="l00123"></a><a class="code" href="classtesseract_1_1_wordrec.html#a0db358c94208627661f5f1cf44ff9d28">00123</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(chop_x_y_weight, 3, <span class="stringliteral">&quot;X / Y  length weight&quot;</span>);
<a name="l00124"></a><a class="code" href="classtesseract_1_1_wordrec.html#a2d79e213378c782ac3de5e92ae2ee41c">00124</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(segment_adjust_debug, 0, <span class="stringliteral">&quot;Segmentation adjustment debug&quot;</span>);
<a name="l00125"></a>00125   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(assume_fixed_pitch_char_segment, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,
<a name="l00126"></a><a class="code" href="classtesseract_1_1_wordrec.html#a613a7dc22729f2cb084bc7093a0a4088">00126</a>              <span class="stringliteral">&quot;include fixed-pitch heuristics in char segmentation&quot;</span>);
<a name="l00127"></a>00127   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(use_new_state_cost, <a class="code" href="host_8h.html#aa93f0eb578d23995850d61f7d61c55c1">FALSE</a>,
<a name="l00128"></a><a class="code" href="classtesseract_1_1_wordrec.html#ab5afccbd096fe5f2ce5e3a7ada77a698">00128</a>              <span class="stringliteral">&quot;use new state cost heuristics for segmentation state evaluation&quot;</span>);
<a name="l00129"></a>00129   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(heuristic_segcost_rating_base, 1.25,
<a name="l00130"></a>00130                <span class="stringliteral">&quot;base factor for adding segmentation cost into word rating.&quot;</span>
<a name="l00131"></a>00131                <span class="stringliteral">&quot;It&#39;s a multiplying factor, the larger the value above 1, &quot;</span>
<a name="l00132"></a><a class="code" href="classtesseract_1_1_wordrec.html#a48537af11d756181ab3c13d14154ec3f">00132</a>                <span class="stringliteral">&quot;the bigger the effect of segmentation cost.&quot;</span>);
<a name="l00133"></a>00133   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(heuristic_weight_rating, 1,
<a name="l00134"></a><a class="code" href="classtesseract_1_1_wordrec.html#a6db610e3739b7660036de4498efd0cc4">00134</a>                <span class="stringliteral">&quot;weight associated with char rating in combined cost of state&quot;</span>);
<a name="l00135"></a>00135   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(heuristic_weight_width, 0,
<a name="l00136"></a><a class="code" href="classtesseract_1_1_wordrec.html#ae123123f79f4caa864aa437e93872551">00136</a>                <span class="stringliteral">&quot;weight associated with width evidence in combined cost of state&quot;</span>);
<a name="l00137"></a>00137   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(heuristic_weight_seamcut, 0,
<a name="l00138"></a><a class="code" href="classtesseract_1_1_wordrec.html#a5305fb44c26a61863bb5f7b646fc5bd9">00138</a>                <span class="stringliteral">&quot;weight associated with seam cut in combined cost of state&quot;</span>);
<a name="l00139"></a>00139   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(heuristic_max_char_wh_ratio, 2.0,
<a name="l00140"></a><a class="code" href="classtesseract_1_1_wordrec.html#a3083609f8ad7c4895647674956163c04">00140</a>                <span class="stringliteral">&quot;max char width-to-height ratio allowed in segmentation&quot;</span>);
<a name="l00141"></a><a class="code" href="classtesseract_1_1_wordrec.html#a15e6789d11062602e044c699bbd9b3aa">00141</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(wordrec_debug_level, 0, <span class="stringliteral">&quot;Debug level for wordrec&quot;</span>);
<a name="l00142"></a><a class="code" href="classtesseract_1_1_wordrec.html#a76e95cb7cbfe636ab00ec46150b5524d">00142</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(wordrec_debug_blamer, <span class="keyword">false</span>, <span class="stringliteral">&quot;Print blamer debug messages&quot;</span>);
<a name="l00143"></a><a class="code" href="classtesseract_1_1_wordrec.html#a5f360cd76704a08b03a4738a97e8457b">00143</a>   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(wordrec_run_blamer, <span class="keyword">false</span>, <span class="stringliteral">&quot;Try to set the blame for errors&quot;</span>);
<a name="l00144"></a>00144   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(enable_new_segsearch, <span class="keyword">false</span>,
<a name="l00145"></a><a class="code" href="classtesseract_1_1_wordrec.html#ae9c39326c0ed2eaf67c30939714616ba">00145</a>              <span class="stringliteral">&quot;Enable new segmentation search path.&quot;</span>);
<a name="l00146"></a><a class="code" href="classtesseract_1_1_wordrec.html#a30bd78320448ef425666157d2ff672db">00146</a>   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(segsearch_debug_level, 0, <span class="stringliteral">&quot;SegSearch debug level&quot;</span>);
<a name="l00147"></a>00147   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(segsearch_max_pain_points, 2000,
<a name="l00148"></a><a class="code" href="classtesseract_1_1_wordrec.html#a0a0cfc9fb11d9ecf6961d0cc655f9070">00148</a>             <span class="stringliteral">&quot;Maximum number of pain points stored in the queue&quot;</span>);
<a name="l00149"></a>00149   <a class="code" href="params_8h.html#a860ed47a3e223fcf5c06eed07fbc649f">INT_VAR_H</a>(segsearch_max_futile_classifications, 10,
<a name="l00150"></a><a class="code" href="classtesseract_1_1_wordrec.html#a7d7641f6361f78664fb541f5ce33fe1b">00150</a>             <span class="stringliteral">&quot;Maximum number of pain point classifications per word.&quot;</span>);
<a name="l00151"></a>00151   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(segsearch_max_char_wh_ratio, 2.0,
<a name="l00152"></a><a class="code" href="classtesseract_1_1_wordrec.html#a8fa843163c3e8785a957e422b9256d35">00152</a>                <span class="stringliteral">&quot;Maximum character width-to-height ratio&quot;</span>);
<a name="l00153"></a>00153   <a class="code" href="params_8h.html#ac9b655e8ebd14897cfc161f2f47797a0">double_VAR_H</a>(segsearch_max_fixed_pitch_char_wh_ratio, 2.0,
<a name="l00154"></a>00154                <span class="stringliteral">&quot;Maximum character width-to-height ratio for&quot;</span>
<a name="l00155"></a><a class="code" href="classtesseract_1_1_wordrec.html#acb3f291e547f6019e53c8eb0f3b48e70">00155</a>                <span class="stringliteral">&quot;fixed pitch fonts&quot;</span>);
<a name="l00156"></a>00156   <a class="code" href="params_8h.html#a2d4425c5a3f3c3eeeed987128d4cd419">BOOL_VAR_H</a>(save_alt_choices, <span class="keyword">false</span>,
<a name="l00157"></a>00157              <span class="stringliteral">&quot;Save alternative paths found during chopping &quot;</span>
<a name="l00158"></a><a class="code" href="classtesseract_1_1_wordrec.html#acb91792cc7855324b0a6f495defe3218">00158</a>              <span class="stringliteral">&quot;and segmentation search&quot;</span>);
<a name="l00159"></a>00159 
<a name="l00160"></a>00160   <span class="comment">// methods from wordrec/*.cpp ***********************************************</span>
<a name="l00161"></a>00161   <a class="code" href="classtesseract_1_1_wordrec.html">Wordrec</a>();
<a name="l00162"></a>00162   <span class="keyword">virtual</span> ~<a class="code" href="classtesseract_1_1_wordrec.html">Wordrec</a>();
<a name="l00163"></a>00163 
<a name="l00164"></a>00164   <span class="keywordtype">void</span> CopyCharChoices(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;from,
<a name="l00165"></a>00165                        <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *to);
<a name="l00166"></a>00166 
<a name="l00167"></a>00167   <span class="comment">// Returns true if text recorded in choice is the same as truth_text.</span>
<a name="l00168"></a>00168   <span class="keywordtype">bool</span> ChoiceIsCorrect(<span class="keyword">const</span> <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a>&amp; uni_set,
<a name="l00169"></a>00169                        <span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *choice,
<a name="l00170"></a>00170                        <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">GenericVector&lt;STRING&gt;</a> &amp;truth_text);
<a name="l00171"></a>00171 
<a name="l00172"></a>00172   <span class="comment">// Fills word-&gt;alt_choices with alternative paths found during</span>
<a name="l00173"></a>00173   <span class="comment">// chopping/segmentation search that are kept in best_choices.</span>
<a name="l00174"></a>00174   <span class="comment">// TODO(antonova): the function currently saves unchar ids, rating and</span>
<a name="l00175"></a>00175   <span class="comment">// certainty information for each alternative choice.</span>
<a name="l00176"></a>00176   <span class="comment">// We might need to add saving blob choices and segmentation state</span>
<a name="l00177"></a>00177   <span class="comment">// associated with each alt choice if needed.</span>
<a name="l00178"></a>00178   <span class="keywordtype">void</span> SaveAltChoices(<span class="keyword">const</span> <a class="code" href="structlist__rec.html">LIST</a> &amp;best_choices, <a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word);
<a name="l00179"></a>00179 
<a name="l00180"></a>00180   <span class="comment">// Fills character choice lattice in the given BlamerBundle</span>
<a name="l00181"></a>00181   <span class="comment">// using the given ratings matrix and best choice list.</span>
<a name="l00182"></a>00182   <span class="keywordtype">void</span> FillLattice(<span class="keyword">const</span> <a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> &amp;ratings, <span class="keyword">const</span> <a class="code" href="structlist__rec.html">LIST</a> &amp;best_choices,
<a name="l00183"></a>00183                    <span class="keyword">const</span> <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;unicharset, <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00184"></a>00184 
<a name="l00185"></a>00185   <span class="comment">// Calls fill_lattice_ member function</span>
<a name="l00186"></a>00186   <span class="comment">// (assumes that fill_lattice_ is not NULL).</span>
<a name="l00187"></a><a class="code" href="classtesseract_1_1_wordrec.html#a57cb744b40e142b6cb03de0e8998dafc">00187</a>   <span class="keywordtype">void</span> CallFillLattice(<span class="keyword">const</span> <a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> &amp;ratings, <span class="keyword">const</span> <a class="code" href="structlist__rec.html">LIST</a> &amp;best_choices,
<a name="l00188"></a>00188                        <span class="keyword">const</span> <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;unicharset, <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle) {
<a name="l00189"></a>00189     (this-&gt;*fill_lattice_)(ratings, best_choices, unicharset, blamer_bundle);
<a name="l00190"></a>00190   }
<a name="l00191"></a>00191 
<a name="l00192"></a>00192   <span class="comment">// tface.cpp</span>
<a name="l00193"></a>00193   <span class="keywordtype">void</span> program_editup(<span class="keyword">const</span> <span class="keywordtype">char</span> *textbase,
<a name="l00194"></a>00194                       <span class="keywordtype">bool</span> init_classifier,
<a name="l00195"></a>00195                       <span class="keywordtype">bool</span> init_permute);
<a name="l00196"></a>00196   <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *cc_recog(<a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word);
<a name="l00197"></a>00197   <span class="keywordtype">void</span> program_editdown(<a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> elasped_time);
<a name="l00198"></a>00198   <span class="keywordtype">void</span> set_pass1();
<a name="l00199"></a>00199   <span class="keywordtype">void</span> set_pass2();
<a name="l00200"></a>00200   <span class="keywordtype">int</span> end_recog();
<a name="l00201"></a>00201   BLOB_CHOICE_LIST *call_matcher(<span class="keyword">const</span> <a class="code" href="class_d_e_n_o_r_m.html">DENORM</a>* denorm, <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a>* blob);
<a name="l00202"></a>00202   <span class="keywordtype">int</span> dict_word(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> &amp;word);
<a name="l00203"></a>00203   <span class="comment">// wordclass.cpp</span>
<a name="l00204"></a>00204   BLOB_CHOICE_LIST *classify_blob(<a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> *blob,
<a name="l00205"></a>00205                                   <span class="keyword">const</span> <a class="code" href="class_d_e_n_o_r_m.html">DENORM</a>&amp; denorm,
<a name="l00206"></a>00206                                   <span class="keyword">const</span> <span class="keywordtype">char</span> *<span class="keywordtype">string</span>,
<a name="l00207"></a>00207                                   <a class="code" href="callcpp_8h.html#a17bc059e437838f094a5a25c2d5ab88f">C_COL</a> color,
<a name="l00208"></a>00208                                   <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00209"></a>00209   BLOB_CHOICE_LIST *fake_classify_blob(<a class="code" href="unichar_8h.html#a8578b19fa1ff5ca75080db1a18ecc32e">UNICHAR_ID</a> class_id,
<a name="l00210"></a>00210                                        <span class="keywordtype">float</span> rating, <span class="keywordtype">float</span> certainty);
<a name="l00211"></a>00211   <span class="keywordtype">void</span> update_blob_classifications(<a class="code" href="struct_t_w_e_r_d.html">TWERD</a> *word,
<a name="l00212"></a>00212                                    <span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;choices);
<a name="l00213"></a>00213 
<a name="l00214"></a>00214   <span class="comment">// bestfirst.cpp</span>
<a name="l00215"></a>00215   <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *evaluate_chunks(<a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00216"></a>00216                                            <a class="code" href="states_8h.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> search_state,
<a name="l00217"></a>00217                                            <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00218"></a>00218   <span class="keywordtype">void</span> update_ratings(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;new_choices,
<a name="l00219"></a>00219                       <span class="keyword">const</span> <a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00220"></a>00220                       <span class="keyword">const</span> <a class="code" href="states_8h.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> search_state);
<a name="l00221"></a>00221   <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> evaluate_state(<a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00222"></a>00222                        <a class="code" href="struct_s_e_a_r_c_h___r_e_c_o_r_d.html">SEARCH_RECORD</a> *the_search,
<a name="l00223"></a>00223                        <a class="code" href="class_generic_vector.html">DANGERR</a> *fixpt,
<a name="l00224"></a>00224                        <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00225"></a>00225   <a class="code" href="struct_s_e_a_r_c_h___r_e_c_o_r_d.html">SEARCH_RECORD</a> *new_search(<a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00226"></a>00226                             <span class="keywordtype">int</span> num_joints,
<a name="l00227"></a>00227                             <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices,
<a name="l00228"></a>00228                             <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice,
<a name="l00229"></a>00229                             <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *raw_choice,
<a name="l00230"></a>00230                             <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *state);
<a name="l00231"></a>00231   <span class="keywordtype">void</span> best_first_search(<a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00232"></a>00232                          <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices,
<a name="l00233"></a>00233                          <a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word,
<a name="l00234"></a>00234                          <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *state,
<a name="l00235"></a>00235                          <a class="code" href="class_generic_vector.html">DANGERR</a> *fixpt,
<a name="l00236"></a>00236                          <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *best_state);
<a name="l00237"></a>00237   <span class="keywordtype">void</span> delete_search(<a class="code" href="struct_s_e_a_r_c_h___r_e_c_o_r_d.html">SEARCH_RECORD</a> *the_search);
<a name="l00238"></a>00238   <span class="keywordtype">void</span> expand_node(<a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> worst_priority,
<a name="l00239"></a>00239                    <a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00240"></a>00240                    <a class="code" href="struct_s_e_a_r_c_h___r_e_c_o_r_d.html">SEARCH_RECORD</a> *the_search);
<a name="l00241"></a>00241   <span class="keywordtype">void</span> <a class="code" href="bestfirst_8h.html#af7f8152eb4c13d7dd97dc8d093fac33f">replace_char_widths</a>(<a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00242"></a>00242                            <a class="code" href="states_8h.html#afeb312869cc56f5a20c6f3dcb65644cc">SEARCH_STATE</a> state);
<a name="l00243"></a>00243   <span class="comment">// Transfers the given state to the word&#39;s output fields: rebuild_word,</span>
<a name="l00244"></a>00244   <span class="comment">// best_state, box_word, and returns the corresponding blob choices.</span>
<a name="l00245"></a>00245   <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *rebuild_current_state(
<a name="l00246"></a>00246       <a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word,
<a name="l00247"></a>00247       <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *state,
<a name="l00248"></a>00248       <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *char_choices,
<a name="l00249"></a>00249       <a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> *ratings);
<a name="l00250"></a>00250   <span class="comment">// Creates a fake blob choice from the combination of the given fragments.</span>
<a name="l00251"></a>00251   <span class="comment">// unichar is the class to be made from the combination,</span>
<a name="l00252"></a>00252   <span class="comment">// expanded_fragment_lengths[choice_index] is the number of fragments to use.</span>
<a name="l00253"></a>00253   <span class="comment">// old_choices[choice_index] has the classifier output for each fragment.</span>
<a name="l00254"></a>00254   <span class="comment">// choice index initially indexes the last fragment and should be decremented</span>
<a name="l00255"></a>00255   <span class="comment">// expanded_fragment_lengths[choice_index] times to get the earlier fragments.</span>
<a name="l00256"></a>00256   <span class="comment">// Guarantees to return something non-null, or abort!</span>
<a name="l00257"></a>00257   <a class="code" href="class_b_l_o_b___c_h_o_i_c_e.html">BLOB_CHOICE</a>* rebuild_fragments(
<a name="l00258"></a>00258       <span class="keyword">const</span> <span class="keywordtype">char</span>* unichar,
<a name="l00259"></a>00259       <span class="keyword">const</span> <span class="keywordtype">char</span>* expanded_fragment_lengths,
<a name="l00260"></a>00260       <span class="keywordtype">int</span> choice_index,
<a name="l00261"></a>00261       <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *old_choices);
<a name="l00262"></a>00262   <span class="comment">// Creates a joined copy of the blobs between x and y (inclusive) and</span>
<a name="l00263"></a>00263   <span class="comment">// insert into the rebuild_word in word.</span>
<a name="l00264"></a>00264   <span class="comment">// Returns a deep copy of the classifier results for the blob.</span>
<a name="l00265"></a>00265   BLOB_CHOICE_LIST *join_blobs_and_classify(
<a name="l00266"></a>00266       <a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a>* word, <span class="keywordtype">int</span> x, <span class="keywordtype">int</span> y, <span class="keywordtype">int</span> choice_index, <a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> *ratings,
<a name="l00267"></a>00267       <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *old_choices);
<a name="l00268"></a>00268   <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *<a class="code" href="bestfirst_8h.html#a98cb87f040ea1c5e6fc03d41082a88f1">pop_queue</a>(<a class="code" href="struct_h_e_a_p.html">HEAP</a> *queue);
<a name="l00269"></a>00269   <span class="keywordtype">void</span> push_queue(<a class="code" href="struct_h_e_a_p.html">HEAP</a> *queue, <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *state, <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> worst_priority,
<a name="l00270"></a>00270                   <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> priority, <span class="keywordtype">bool</span> debug);
<a name="l00271"></a>00271 
<a name="l00272"></a>00272   <span class="comment">// segsearch.cpp</span>
<a name="l00273"></a>00273   <span class="comment">// SegSearch works on the lower diagonal matrix of BLOB_CHOICE_LISTs.</span>
<a name="l00274"></a>00274   <span class="comment">// Each entry in the matrix represents the classification choice</span>
<a name="l00275"></a>00275   <span class="comment">// for a chunk, i.e. an entry in row 2, column 1 represents the list</span>
<a name="l00276"></a>00276   <span class="comment">// of ratings for the chunks 1 and 2 classified as a single blob.</span>
<a name="l00277"></a>00277   <span class="comment">// The entries on the diagonal of the matrix are classifier choice lists</span>
<a name="l00278"></a>00278   <span class="comment">// for a single chunk from the maximal segmentation.</span>
<a name="l00279"></a>00279   <span class="comment">//</span>
<a name="l00280"></a>00280   <span class="comment">// The ratings matrix given to SegSearch represents the segmentation</span>
<a name="l00281"></a>00281   <span class="comment">// graph / trellis for the current word. The nodes in the graph are the</span>
<a name="l00282"></a>00282   <span class="comment">// individual BLOB_CHOICEs in each of the BLOB_CHOICE_LISTs in the ratings</span>
<a name="l00283"></a>00283   <span class="comment">// matrix. The children of each node (nodes connected by outgoing links)</span>
<a name="l00284"></a>00284   <span class="comment">// are the entries in the column that is equal to node&#39;s row+1. The parents</span>
<a name="l00285"></a>00285   <span class="comment">// (nodes connected by the incoming links) are the entries in the row that</span>
<a name="l00286"></a>00286   <span class="comment">// is equal to the node&#39;s column-1. Here is an example ratings matrix:</span>
<a name="l00287"></a>00287   <span class="comment">//</span>
<a name="l00288"></a>00288   <span class="comment">//    0    1    2   3   4</span>
<a name="l00289"></a>00289   <span class="comment">//  -------------------------</span>
<a name="l00290"></a>00290   <span class="comment">// 0| c,(                   |</span>
<a name="l00291"></a>00291   <span class="comment">// 1| d    l,1              |</span>
<a name="l00292"></a>00292   <span class="comment">// 2|           o           |</span>
<a name="l00293"></a>00293   <span class="comment">// 3|              c,(      |</span>
<a name="l00294"></a>00294   <span class="comment">// 4|              g,y  l,1 |</span>
<a name="l00295"></a>00295   <span class="comment">//  -------------------------</span>
<a name="l00296"></a>00296   <span class="comment">//</span>
<a name="l00297"></a>00297   <span class="comment">// In the example above node &quot;o&quot; has children (outgoing connection to nodes)</span>
<a name="l00298"></a>00298   <span class="comment">// &quot;c&quot;,&quot;(&quot;,&quot;g&quot;,&quot;y&quot; and parents (incoming connections from nodes) &quot;l&quot;,&quot;1&quot;,&quot;d&quot;.</span>
<a name="l00299"></a>00299   <span class="comment">//</span>
<a name="l00300"></a>00300   <span class="comment">// The objective of the search is to find the least cost path, where the cost</span>
<a name="l00301"></a>00301   <span class="comment">// is determined by the language model components and the properties of the</span>
<a name="l00302"></a>00302   <span class="comment">// cut between the blobs on the path. SegSearch starts by populating the</span>
<a name="l00303"></a>00303   <span class="comment">// matrix with the all the entries that were classified by the chopper and</span>
<a name="l00304"></a>00304   <span class="comment">// finding the initial best path. Based on the classifier ratings, language</span>
<a name="l00305"></a>00305   <span class="comment">// model scores and the properties of each cut, a list of &quot;pain points&quot; is</span>
<a name="l00306"></a>00306   <span class="comment">// constructed - those are the points on the path where the choices do not</span>
<a name="l00307"></a>00307   <span class="comment">// look consistent with the neighboring choices, the cuts look particularly</span>
<a name="l00308"></a>00308   <span class="comment">// problematic, or the certainties of the blobs are low. The most troublesome</span>
<a name="l00309"></a>00309   <span class="comment">// &quot;pain point&quot; is picked from the list and the new entry in the ratings</span>
<a name="l00310"></a>00310   <span class="comment">// matrix corresponding to this &quot;pain point&quot; is filled in. Then the language</span>
<a name="l00311"></a>00311   <span class="comment">// model state is updated to reflect the new classification and the new</span>
<a name="l00312"></a>00312   <span class="comment">// &quot;pain points&quot; are added to the list and the next most troublesome</span>
<a name="l00313"></a>00313   <span class="comment">// &quot;pain point&quot; is determined. This continues until either the word choice</span>
<a name="l00314"></a>00314   <span class="comment">// composed from the best paths in the segmentation graph is &quot;good enough&quot;</span>
<a name="l00315"></a>00315   <span class="comment">// (e.g. above a certain certainty threshold, is an unambiguous dictionary</span>
<a name="l00316"></a>00316   <span class="comment">// word, etc) or there are no more &quot;pain points&quot; to explore.</span>
<a name="l00317"></a>00317   <span class="keywordtype">void</span> SegSearch(<a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00318"></a>00318                  <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice,
<a name="l00319"></a>00319                  <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices,
<a name="l00320"></a>00320                  <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *raw_choice,
<a name="l00321"></a>00321                  <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *output_best_state,
<a name="l00322"></a>00322                  <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00323"></a>00323 
<a name="l00324"></a>00324   <span class="comment">// chop.cpp</span>
<a name="l00325"></a>00325   <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> point_priority(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point);
<a name="l00326"></a>00326   <span class="keywordtype">void</span> add_point_to_list(<a class="code" href="struct_h_e_a_p.html">POINT_GROUP</a> point_list, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point);
<a name="l00327"></a>00327   <span class="keywordtype">int</span> angle_change(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point1, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point2, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point3);
<a name="l00328"></a>00328   <span class="keywordtype">int</span> is_little_chunk(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point1, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point2);
<a name="l00329"></a>00329   <span class="keywordtype">int</span> is_small_area(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point1, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point2);
<a name="l00330"></a>00330   <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *pick_close_point(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *critical_point,
<a name="l00331"></a>00331                            <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *vertical_point,
<a name="l00332"></a>00332                            <span class="keywordtype">int</span> *best_dist);
<a name="l00333"></a>00333   <span class="keywordtype">void</span> prioritize_points(<a class="code" href="struct_t_e_s_s_l_i_n_e.html">TESSLINE</a> *outline, <a class="code" href="struct_h_e_a_p.html">POINT_GROUP</a> points);
<a name="l00334"></a>00334   <span class="keywordtype">void</span> new_min_point(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *local_min, <a class="code" href="struct_h_e_a_p.html">POINT_GROUP</a> points);
<a name="l00335"></a>00335   <span class="keywordtype">void</span> new_max_point(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *local_max, <a class="code" href="struct_h_e_a_p.html">POINT_GROUP</a> points);
<a name="l00336"></a>00336   <span class="keywordtype">void</span> vertical_projection_point(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *split_point, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *target_point,
<a name="l00337"></a>00337                                  <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a>** best_point,
<a name="l00338"></a>00338                                  EDGEPT_CLIST *new_points);
<a name="l00339"></a>00339 
<a name="l00340"></a>00340   <span class="comment">// chopper.cpp</span>
<a name="l00341"></a>00341   <a class="code" href="structseam__record.html">SEAM</a> *attempt_blob_chop(<a class="code" href="struct_t_w_e_r_d.html">TWERD</a> *word, <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> *blob, <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> blob_number,
<a name="l00342"></a>00342                           <span class="keywordtype">bool</span> italic_blob, <a class="code" href="structarray__record.html">SEAMS</a> seam_list);
<a name="l00343"></a>00343   <a class="code" href="structseam__record.html">SEAM</a> *chop_numbered_blob(<a class="code" href="struct_t_w_e_r_d.html">TWERD</a> *word, <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> blob_number,
<a name="l00344"></a>00344                            <span class="keywordtype">bool</span> italic_blob, <a class="code" href="structarray__record.html">SEAMS</a> seam_list);
<a name="l00345"></a>00345   <a class="code" href="structseam__record.html">SEAM</a> *chop_overlapping_blob(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">GenericVector&lt;TBOX&gt;</a>&amp; boxes,
<a name="l00346"></a>00346                               <a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word_res, <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *blob_number,
<a name="l00347"></a>00347                               <span class="keywordtype">bool</span> italic_blob, <a class="code" href="structarray__record.html">SEAMS</a> seam_list);
<a name="l00348"></a>00348   <span class="keywordtype">bool</span> improve_one_blob(<a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word_res,
<a name="l00349"></a>00349                         <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *char_choices,
<a name="l00350"></a>00350                         <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *blob_number,
<a name="l00351"></a>00351                         <a class="code" href="structarray__record.html">SEAMS</a> *seam_list,
<a name="l00352"></a>00352                         <a class="code" href="class_generic_vector.html">DANGERR</a> *fixpt,
<a name="l00353"></a>00353                         <span class="keywordtype">bool</span> split_next_to_fragment,
<a name="l00354"></a>00354                         <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00355"></a>00355   <span class="keywordtype">void</span> modify_blob_choice(BLOB_CHOICE_LIST *answer,
<a name="l00356"></a>00356                           <span class="keywordtype">int</span> chop_index);
<a name="l00357"></a>00357   <span class="keywordtype">bool</span> chop_one_blob(<a class="code" href="struct_t_w_e_r_d.html">TWERD</a> *word,
<a name="l00358"></a>00358                      <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *char_choices,
<a name="l00359"></a>00359                      <a class="code" href="host_8h.html#aba1f582fd0168f3ff9225d8c90fa9eb8">inT32</a> *blob_number,
<a name="l00360"></a>00360                      <a class="code" href="structarray__record.html">SEAMS</a> *seam_list,
<a name="l00361"></a>00361                      <span class="keywordtype">int</span> *right_chop_index);
<a name="l00362"></a>00362   <span class="keywordtype">bool</span> chop_one_blob2(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">GenericVector&lt;TBOX&gt;</a>&amp; boxes,
<a name="l00363"></a>00363                       <a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word_res, <a class="code" href="structarray__record.html">SEAMS</a> *seam_list);
<a name="l00364"></a>00364   <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *chop_word_main(<a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word);
<a name="l00365"></a>00365   <span class="keywordtype">void</span> improve_by_chopping(<a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word,
<a name="l00366"></a>00366                            <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *char_choices,
<a name="l00367"></a>00367                            <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *best_state,
<a name="l00368"></a>00368                            <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices,
<a name="l00369"></a>00369                            <a class="code" href="class_generic_vector.html">DANGERR</a> *fixpt,
<a name="l00370"></a>00370                            <span class="keywordtype">bool</span> *updated_best_choice);
<a name="l00371"></a>00371   <a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> *word_associator(<span class="keywordtype">bool</span> only_create_ratings_matrtix,
<a name="l00372"></a>00372                           <a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word,
<a name="l00373"></a>00373                           <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *state,
<a name="l00374"></a>00374                           <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> *best_char_choices,
<a name="l00375"></a>00375                           <a class="code" href="class_generic_vector.html">DANGERR</a> *fixpt,
<a name="l00376"></a>00376                           <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *best_state);
<a name="l00377"></a>00377   <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> select_blob_to_split(<span class="keyword">const</span> <a class="code" href="class_generic_vector.html">BLOB_CHOICE_LIST_VECTOR</a> &amp;char_choices,
<a name="l00378"></a>00378                              <span class="keywordtype">float</span> rating_ceiling,
<a name="l00379"></a>00379                              <span class="keywordtype">bool</span> split_next_to_fragment);
<a name="l00380"></a>00380   <span class="keywordtype">void</span> set_chopper_blame(<a class="code" href="class_w_e_r_d___r_e_s.html">WERD_RES</a> *word);
<a name="l00381"></a>00381 
<a name="l00382"></a>00382   <span class="comment">// findseam.cpp</span>
<a name="l00383"></a>00383   <span class="keywordtype">void</span> junk_worst_seam(<a class="code" href="struct_h_e_a_p.html">SEAM_QUEUE</a> seams, <a class="code" href="structseam__record.html">SEAM</a> *<a class="code" href="seam_8cpp.html#ad7bc7a3af5617ff4762369a6aa879ed3">new_seam</a>, <span class="keywordtype">float</span> new_priority);
<a name="l00384"></a>00384   <span class="keywordtype">void</span> choose_best_seam(<a class="code" href="struct_h_e_a_p.html">SEAM_QUEUE</a> seam_queue,
<a name="l00385"></a>00385                         <a class="code" href="structarray__record.html">SEAM_PILE</a> *seam_pile,
<a name="l00386"></a>00386                         <a class="code" href="structsplit__record.html">SPLIT</a> *split,
<a name="l00387"></a>00387                         <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> priority,
<a name="l00388"></a>00388                         <a class="code" href="structseam__record.html">SEAM</a> **seam_result,
<a name="l00389"></a>00389                         <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> *blob);
<a name="l00390"></a>00390   <span class="keywordtype">void</span> combine_seam(<a class="code" href="struct_h_e_a_p.html">SEAM_QUEUE</a> seam_queue, <a class="code" href="structarray__record.html">SEAM_PILE</a> seam_pile, <a class="code" href="structseam__record.html">SEAM</a> *seam);
<a name="l00391"></a>00391   <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> constrained_split(<a class="code" href="structsplit__record.html">SPLIT</a> *split, <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> *blob);
<a name="l00392"></a>00392   <span class="keywordtype">void</span> delete_seam_pile(<a class="code" href="structarray__record.html">SEAM_PILE</a> seam_pile);
<a name="l00393"></a>00393   <a class="code" href="structseam__record.html">SEAM</a> *pick_good_seam(<a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> *blob);
<a name="l00394"></a>00394   <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> seam_priority(<a class="code" href="structseam__record.html">SEAM</a> *seam, <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> xmin, <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> xmax);
<a name="l00395"></a>00395   <span class="keywordtype">void</span> try_point_pairs (<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> * points[<a class="code" href="chop_8h.html#acddb2ccb7be3d768d16abfd230d468eb">MAX_NUM_POINTS</a>],
<a name="l00396"></a>00396                         <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_points,
<a name="l00397"></a>00397                         <a class="code" href="struct_h_e_a_p.html">SEAM_QUEUE</a> seam_queue,
<a name="l00398"></a>00398                         <a class="code" href="structarray__record.html">SEAM_PILE</a> * seam_pile, <a class="code" href="structseam__record.html">SEAM</a> ** seam, <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> * blob);
<a name="l00399"></a>00399   <span class="keywordtype">void</span> try_vertical_splits(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> * points[<a class="code" href="chop_8h.html#acddb2ccb7be3d768d16abfd230d468eb">MAX_NUM_POINTS</a>],
<a name="l00400"></a>00400                            <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_points,
<a name="l00401"></a>00401                            EDGEPT_CLIST *new_points,
<a name="l00402"></a>00402                            <a class="code" href="struct_h_e_a_p.html">SEAM_QUEUE</a> seam_queue,
<a name="l00403"></a>00403                            <a class="code" href="structarray__record.html">SEAM_PILE</a> * seam_pile, <a class="code" href="structseam__record.html">SEAM</a> ** seam, <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> * blob);
<a name="l00404"></a>00404 
<a name="l00405"></a>00405   <span class="comment">// gradechop.cpp</span>
<a name="l00406"></a>00406   <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> full_split_priority(<a class="code" href="structsplit__record.html">SPLIT</a> *split, <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> xmin, <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> xmax);
<a name="l00407"></a>00407   <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade_center_of_blob(<span class="keyword">register</span> <a class="code" href="gradechop_8h.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a> rect);
<a name="l00408"></a>00408   <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade_overlap(<span class="keyword">register</span> <a class="code" href="gradechop_8h.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a> rect);
<a name="l00409"></a>00409   <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade_split_length(<span class="keyword">register</span> <a class="code" href="structsplit__record.html">SPLIT</a> *split);
<a name="l00410"></a>00410   <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade_sharpness(<span class="keyword">register</span> <a class="code" href="structsplit__record.html">SPLIT</a> *split);
<a name="l00411"></a>00411   <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> grade_width_change(<span class="keyword">register</span> <a class="code" href="gradechop_8h.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a> rect);
<a name="l00412"></a>00412   <span class="keywordtype">void</span> set_outline_bounds(<span class="keyword">register</span> <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point1,
<a name="l00413"></a>00413                           <span class="keyword">register</span> <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point2,
<a name="l00414"></a>00414                           <a class="code" href="gradechop_8h.html#a45f650fd29e2e9bb1c3480d126a955e9">BOUNDS_RECT</a> rect);
<a name="l00415"></a>00415 
<a name="l00416"></a>00416   <span class="comment">// outlines.cpp</span>
<a name="l00417"></a>00417   <span class="keywordtype">int</span> crosses_outline(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *p0, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *p1, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *outline);
<a name="l00418"></a>00418   <span class="keywordtype">int</span> is_crossed(<a class="code" href="struct_t_p_o_i_n_t.html">TPOINT</a> a0, <a class="code" href="struct_t_p_o_i_n_t.html">TPOINT</a> a1, <a class="code" href="struct_t_p_o_i_n_t.html">TPOINT</a> b0, <a class="code" href="struct_t_p_o_i_n_t.html">TPOINT</a> b1);
<a name="l00419"></a>00419   <span class="keywordtype">int</span> is_same_edgept(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *p1, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *p2);
<a name="l00420"></a>00420   <span class="keywordtype">bool</span> near_point(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *point, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *line_pt_0, <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *line_pt_1,
<a name="l00421"></a>00421                   <a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> **near_pt);
<a name="l00422"></a>00422   <span class="keywordtype">void</span> reverse_outline(<a class="code" href="struct_e_d_g_e_p_t.html">EDGEPT</a> *outline);
<a name="l00423"></a>00423 
<a name="l00424"></a>00424   <span class="comment">// pieces.cpp</span>
<a name="l00425"></a>00425   <span class="keyword">virtual</span> BLOB_CHOICE_LIST *classify_piece(<a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> *pieces,
<a name="l00426"></a>00426                                            <span class="keyword">const</span> <a class="code" href="class_d_e_n_o_r_m.html">DENORM</a>&amp; denorm,
<a name="l00427"></a>00427                                            <a class="code" href="structarray__record.html">SEAMS</a> seams,
<a name="l00428"></a>00428                                            <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> start,
<a name="l00429"></a>00429                                            <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> end,
<a name="l00430"></a>00430                                            <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00431"></a>00431   <span class="comment">// Try to merge fragments in the ratings matrix and put the result in</span>
<a name="l00432"></a>00432   <span class="comment">// the corresponding row and column</span>
<a name="l00433"></a>00433   <span class="keywordtype">void</span> merge_fragments(<a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> *ratings,
<a name="l00434"></a>00434                        <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_blobs);
<a name="l00435"></a>00435   <span class="comment">// Recursively go through the ratings matrix to find lists of fragments</span>
<a name="l00436"></a>00436   <span class="comment">// to be merged in the function merge_and_put_fragment_lists.</span>
<a name="l00437"></a>00437   <span class="comment">// current_frag is the postion of the piece we are looking for.</span>
<a name="l00438"></a>00438   <span class="comment">// current_row is the row in the rating matrix we are currently at.</span>
<a name="l00439"></a>00439   <span class="comment">// start is the row we started initially, so that we can know where</span>
<a name="l00440"></a>00440   <span class="comment">// to append the results to the matrix. num_frag_parts is the total</span>
<a name="l00441"></a>00441   <span class="comment">// number of pieces we are looking for and num_blobs is the size of the</span>
<a name="l00442"></a>00442   <span class="comment">// ratings matrix.</span>
<a name="l00443"></a>00443   <span class="keywordtype">void</span> get_fragment_lists(<a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> current_frag,
<a name="l00444"></a>00444                           <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> current_row,
<a name="l00445"></a>00445                           <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> start,
<a name="l00446"></a>00446                           <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_frag_parts,
<a name="l00447"></a>00447                           <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_blobs,
<a name="l00448"></a>00448                           <a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> *ratings,
<a name="l00449"></a>00449                           BLOB_CHOICE_LIST *choice_lists);
<a name="l00450"></a>00450   <span class="comment">// Merge the fragment lists in choice_lists and append it to the</span>
<a name="l00451"></a>00451   <span class="comment">// ratings matrix</span>
<a name="l00452"></a>00452   <span class="keywordtype">void</span> merge_and_put_fragment_lists(<a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> row,
<a name="l00453"></a>00453                                     <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> column,
<a name="l00454"></a>00454                                     <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> num_frag_parts,
<a name="l00455"></a>00455                                     BLOB_CHOICE_LIST *choice_lists,
<a name="l00456"></a>00456                                     <a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> *ratings);
<a name="l00457"></a>00457   <span class="comment">// Filter the fragment list so that the filtered_choices only contain</span>
<a name="l00458"></a>00458   <span class="comment">// fragments that are in the correct position. choices is the list</span>
<a name="l00459"></a>00459   <span class="comment">// that we are going to filter. fragment_pos is the position in the</span>
<a name="l00460"></a>00460   <span class="comment">// fragment that we are looking for and num_frag_parts is the the</span>
<a name="l00461"></a>00461   <span class="comment">// total number of pieces. The result will be appended to</span>
<a name="l00462"></a>00462   <span class="comment">// filtered_choices.</span>
<a name="l00463"></a>00463   <span class="keywordtype">void</span> fill_filtered_fragment_list(BLOB_CHOICE_LIST *choices,
<a name="l00464"></a>00464                                    <span class="keywordtype">int</span> fragment_pos,
<a name="l00465"></a>00465                                    <span class="keywordtype">int</span> num_frag_parts,
<a name="l00466"></a>00466                                    BLOB_CHOICE_LIST *filtered_choices);
<a name="l00467"></a>00467   BLOB_CHOICE_LIST *get_piece_rating(<a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> *ratings,
<a name="l00468"></a>00468                                      <a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> *blobs,
<a name="l00469"></a>00469                                      <span class="keyword">const</span> <a class="code" href="class_d_e_n_o_r_m.html">DENORM</a>&amp; denorm,
<a name="l00470"></a>00470                                      <a class="code" href="structarray__record.html">SEAMS</a> seams,
<a name="l00471"></a>00471                                      <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> start,
<a name="l00472"></a>00472                                      <a class="code" href="host_8h.html#a8d41499d38c24d39b221ab0c158fe5a8">inT16</a> end,
<a name="l00473"></a>00473                                      <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00474"></a>00474   <span class="comment">// returns an array of bounding boxes for the given list of blobs.</span>
<a name="l00475"></a>00475   <a class="code" href="class_t_b_o_x.html">TBOX</a> *record_blob_bounds(<a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> *blobs);
<a name="l00476"></a>00476   <a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> *record_piece_ratings(<a class="code" href="struct_t_b_l_o_b.html">TBLOB</a> *blobs);
<a name="l00477"></a>00477 
<a name="l00478"></a>00478   <span class="comment">// heuristic.cpp</span>
<a name="l00479"></a>00479   <a class="code" href="struct_w_i_d_t_h___r_e_c_o_r_d.html">WIDTH_RECORD</a>* state_char_widths(<a class="code" href="struct_w_i_d_t_h___r_e_c_o_r_d.html">WIDTH_RECORD</a> *chunk_widths,
<a name="l00480"></a>00480                                   <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *state,
<a name="l00481"></a>00481                                   <span class="keywordtype">int</span> num_joints);
<a name="l00482"></a>00482   <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> get_width_variance(<a class="code" href="struct_w_i_d_t_h___r_e_c_o_r_d.html">WIDTH_RECORD</a> *wrec, <span class="keywordtype">float</span> norm_height);
<a name="l00483"></a>00483   <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> get_gap_variance(<a class="code" href="struct_w_i_d_t_h___r_e_c_o_r_d.html">WIDTH_RECORD</a> *wrec, <span class="keywordtype">float</span> norm_height);
<a name="l00484"></a>00484   <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> prioritize_state(<a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00485"></a>00485                            <a class="code" href="struct_s_e_a_r_c_h___r_e_c_o_r_d.html">SEARCH_RECORD</a> *the_search);
<a name="l00486"></a>00486   <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> width_priority(<a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00487"></a>00487                          <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *state,
<a name="l00488"></a>00488                          <span class="keywordtype">int</span> num_joints);
<a name="l00489"></a>00489   <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> seamcut_priority(<a class="code" href="structarray__record.html">SEAMS</a> seams,
<a name="l00490"></a>00490                            <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *state,
<a name="l00491"></a>00491                            <span class="keywordtype">int</span> num_joints);
<a name="l00492"></a>00492   <a class="code" href="host_8h.html#a6a3da5f1db8d485c0d2f5a7ba526c4a0">FLOAT32</a> rating_priority(<a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00493"></a>00493                           <a class="code" href="struct_s_t_a_t_e.html">STATE</a> *state,
<a name="l00494"></a>00494                           <span class="keywordtype">int</span> num_joints);
<a name="l00495"></a>00495 
<a name="l00496"></a>00496   <span class="comment">// Member variables.</span>
<a name="l00497"></a>00497 
<a name="l00498"></a><a class="code" href="classtesseract_1_1_wordrec.html#a3d9fc3b086e0f174a2cd602ea8f421c6">00498</a>   <a class="code" href="classtesseract_1_1_language_model.html">LanguageModel</a> *language_model_;
<a name="l00499"></a><a class="code" href="classtesseract_1_1_wordrec.html#a671c4b102b976c600adc3bf60ee44323">00499</a>   <a class="code" href="seam_8h.html#a39b235b77c0838c8a1f197ffe83d5ce8">PRIORITY</a> pass2_ok_split;
<a name="l00500"></a><a class="code" href="classtesseract_1_1_wordrec.html#ade3cecfe9b377045db0abe2d06762c1e">00500</a>   <span class="keywordtype">int</span> pass2_seg_states;
<a name="l00501"></a><a class="code" href="classtesseract_1_1_wordrec.html#a488e4047c19dcd34c6ce55fa08731565">00501</a>   <span class="keywordtype">int</span> num_joints;
<a name="l00502"></a><a class="code" href="classtesseract_1_1_wordrec.html#af285813a72895f9b09f4e0f3021e721c">00502</a>   <span class="keywordtype">int</span> num_pushed;
<a name="l00503"></a><a class="code" href="classtesseract_1_1_wordrec.html#abc8f5ea0bc5278f6a3ba1f91b3e797e3">00503</a>   <span class="keywordtype">int</span> num_popped;
<a name="l00504"></a><a class="code" href="classtesseract_1_1_wordrec.html#a7518e041a8ddab1d1a2b7e609553b8e3">00504</a>   <a class="code" href="classtesseract_1_1_blob_match_table.html">BlobMatchTable</a> blob_match_table;
<a name="l00505"></a><a class="code" href="classtesseract_1_1_wordrec.html#af7a36436e7e7fd0691bc093814fc2b62">00505</a>   <a class="code" href="associate_8h.html#ab48ca2435a6b02cde81b7554ce0160e3">EVALUATION_ARRAY</a> last_segmentation;
<a name="l00506"></a>00506   <span class="comment">// Stores the best choice for the previous word in the paragraph.</span>
<a name="l00507"></a>00507   <span class="comment">// This variable is modified by PAGE_RES_IT when iterating over</span>
<a name="l00508"></a>00508   <span class="comment">// words to OCR on the page.</span>
<a name="l00509"></a><a class="code" href="classtesseract_1_1_wordrec.html#a143608f482c6c0c4f312740e6a5f5fd9">00509</a>   <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *prev_word_best_choice_;
<a name="l00510"></a>00510   <span class="comment">// Sums of blame reasons computed by the blamer.</span>
<a name="l00511"></a><a class="code" href="classtesseract_1_1_wordrec.html#acd86faf2d9076330828b3738d39c6ecd">00511</a>   <a class="code" href="class_generic_vector.html">GenericVector&lt;int&gt;</a> blame_reasons_;
<a name="l00512"></a>00512   <span class="comment">// Function used to fill char choice lattices.</span>
<a name="l00513"></a><a class="code" href="classtesseract_1_1_wordrec.html#a7a4f5e2cb7957a5decbc91eb2d31f87c">00513</a>   void (<a class="code" href="classtesseract_1_1_wordrec.html">Wordrec</a>::*fill_lattice_)(<span class="keyword">const</span> <a class="code" href="class_m_a_t_r_i_x.html">MATRIX</a> &amp;ratings,
<a name="l00514"></a>00514                                   <span class="keyword">const</span> <a class="code" href="structlist__rec.html">LIST</a> &amp;best_choices,
<a name="l00515"></a>00515                                   <span class="keyword">const</span> <a class="code" href="class_u_n_i_c_h_a_r_s_e_t.html">UNICHARSET</a> &amp;unicharset,
<a name="l00516"></a>00516                                   <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00517"></a>00517 
<a name="l00518"></a>00518  <span class="keyword">protected</span>:
<a name="l00519"></a><a class="code" href="classtesseract_1_1_wordrec.html#a904762fe91430c5094ccecb7e690e0e5">00519</a>   <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classtesseract_1_1_wordrec.html#a904762fe91430c5094ccecb7e690e0e5">SegSearchDone</a>(<span class="keywordtype">int</span> num_futile_classifications) {
<a name="l00520"></a>00520     <span class="keywordflow">return</span> (language_model_-&gt;<a class="code" href="classtesseract_1_1_language_model.html#a3a6f034012a45448a018bd4042138f74">AcceptableChoiceFound</a>() ||
<a name="l00521"></a>00521             num_futile_classifications &gt;=
<a name="l00522"></a>00522             segsearch_max_futile_classifications);
<a name="l00523"></a>00523   }
<a name="l00524"></a>00524 
<a name="l00525"></a>00525   <span class="comment">// Updates the language model state recorded for the child entries specified</span>
<a name="l00526"></a>00526   <span class="comment">// in pending[starting_col]. Enqueues the children of the updated entries</span>
<a name="l00527"></a>00527   <span class="comment">// into pending and proceeds to update (and remove from pending) all the</span>
<a name="l00528"></a>00528   <span class="comment">// remaining entries in pending[col] (col &gt;= starting_col). Upon termination</span>
<a name="l00529"></a>00529   <span class="comment">// of this function all the pending[col] lists will be empty.</span>
<a name="l00530"></a>00530   <span class="comment">//</span>
<a name="l00531"></a>00531   <span class="comment">// The arguments:</span>
<a name="l00532"></a>00532   <span class="comment">//</span>
<a name="l00533"></a>00533   <span class="comment">// starting_col: index of the column in chunks_record-&gt;ratings from</span>
<a name="l00534"></a>00534   <span class="comment">// which the update should be started</span>
<a name="l00535"></a>00535   <span class="comment">//</span>
<a name="l00536"></a>00536   <span class="comment">// pending: list of entries listing chunks_record-&gt;ratings entries</span>
<a name="l00537"></a>00537   <span class="comment">// that should be updated</span>
<a name="l00538"></a>00538   <span class="comment">//</span>
<a name="l00539"></a>00539   <span class="comment">// pain_points: priority heap listing the pain points generated by</span>
<a name="l00540"></a>00540   <span class="comment">// the language model</span>
<a name="l00541"></a>00541   <span class="comment">//</span>
<a name="l00542"></a>00542   <span class="comment">// temp_pain_points: temporary storage for tentative pain points generated</span>
<a name="l00543"></a>00543   <span class="comment">// by the language model after a single call to LanguageModel::UpdateState()</span>
<a name="l00544"></a>00544   <span class="comment">// (the argument is passed in rather than created before each</span>
<a name="l00545"></a>00545   <span class="comment">// LanguageModel::UpdateState() call to avoid dynamic memory re-allocation)</span>
<a name="l00546"></a>00546   <span class="comment">//</span>
<a name="l00547"></a>00547   <span class="comment">// best_choice_bundle: a collection of variables that should be updated</span>
<a name="l00548"></a>00548   <span class="comment">// if a new best choice is found</span>
<a name="l00549"></a>00549   <span class="comment">//</span>
<a name="l00550"></a>00550   <span class="keywordtype">void</span> UpdateSegSearchNodes(<span class="keywordtype">int</span> starting_col,
<a name="l00551"></a>00551                             SEG_SEARCH_PENDING_LIST *pending[],
<a name="l00552"></a>00552                             <a class="code" href="structtesseract_1_1_best_path_by_column.html">BestPathByColumn</a> *best_path_by_column[],
<a name="l00553"></a>00553                             <a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00554"></a>00554                             <a class="code" href="struct_h_e_a_p.html">HEAP</a> *pain_points,
<a name="l00555"></a>00555                             <a class="code" href="structtesseract_1_1_best_choice_bundle.html">BestChoiceBundle</a> *best_choice_bundle,
<a name="l00556"></a>00556                             <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00557"></a>00557 
<a name="l00558"></a>00558   <span class="comment">// Process the given pain point: classify the corresponding blob, enqueue</span>
<a name="l00559"></a>00559   <span class="comment">// new pain points to join the newly classified blob with its neighbors.</span>
<a name="l00560"></a>00560   <span class="keywordtype">void</span> ProcessSegSearchPainPoint(<span class="keywordtype">float</span> pain_point_priority,
<a name="l00561"></a>00561                                  <span class="keyword">const</span> <a class="code" href="struct_m_a_t_r_i_x___c_o_o_r_d.html">MATRIX_COORD</a> &amp;pain_point,
<a name="l00562"></a>00562                                  <span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice,
<a name="l00563"></a>00563                                  SEG_SEARCH_PENDING_LIST *pending[],
<a name="l00564"></a>00564                                  <a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00565"></a>00565                                  <a class="code" href="struct_h_e_a_p.html">HEAP</a> *pain_points,
<a name="l00566"></a>00566                                  <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle);
<a name="l00567"></a>00567 
<a name="l00568"></a>00568   <span class="comment">// Add pain points for classifying blobs on the correct segmentation path</span>
<a name="l00569"></a>00569   <span class="comment">// (so that we can evaluate correct segmentation path and discover the reason</span>
<a name="l00570"></a>00570   <span class="comment">// for incorrect result).</span>
<a name="l00571"></a>00571   <span class="keywordtype">void</span> InitBlamerForSegSearch(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice,
<a name="l00572"></a>00572                               <a class="code" href="struct_c_h_u_n_k_s___r_e_c_o_r_d.html">CHUNKS_RECORD</a> *chunks_record,
<a name="l00573"></a>00573                               <a class="code" href="struct_h_e_a_p.html">HEAP</a> *pain_points,
<a name="l00574"></a>00574                               <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle,
<a name="l00575"></a>00575                               <a class="code" href="class_s_t_r_i_n_g.html">STRING</a> *blamer_debug);
<a name="l00576"></a>00576 
<a name="l00577"></a>00577   <span class="comment">// Analyze the contents of BlamerBundle and set incorrect result reason.</span>
<a name="l00578"></a>00578   <span class="keywordtype">void</span> FinishBlamerForSegSearch(<span class="keyword">const</span> <a class="code" href="class_w_e_r_d___c_h_o_i_c_e.html">WERD_CHOICE</a> *best_choice,
<a name="l00579"></a>00579                                 <a class="code" href="struct_blamer_bundle.html">BlamerBundle</a> *blamer_bundle,
<a name="l00580"></a>00580                                 <a class="code" href="class_s_t_r_i_n_g.html">STRING</a> *blamer_debug);
<a name="l00581"></a>00581 
<a name="l00582"></a>00582 };
<a name="l00583"></a>00583 
<a name="l00584"></a>00584 
<a name="l00585"></a>00585 }  <span class="comment">// namespace tesseract</span>
<a name="l00586"></a>00586 
<a name="l00587"></a>00587 <span class="preprocessor">#endif  // TESSERACT_WORDREC_WORDREC_H__</span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Thu Feb 2 08:19:21 2012 for Tesseract by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
